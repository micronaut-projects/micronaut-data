<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>AbstractSynchronousStateTransactionManager (data-parent 4.0.0-M1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: io.micronaut.transaction.support, class: AbstractSynchronousStateTransactionManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.micronaut.transaction.support</a></div>
<h1 title="Class AbstractSynchronousStateTransactionManager" class="title">Class AbstractSynchronousStateTransactionManager&lt;T&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager&lt;T&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - The resource type</dd>
</dl>
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="TransactionStateOperations.html" title="interface in io.micronaut.transaction.support">TransactionStateOperations</a>&lt;T,<wbr><a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&gt;</code>, <code><a href="../TransactionManager.html" title="interface in io.micronaut.transaction">TransactionManager</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="AbstractSynchronousTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@Internal
</span><span class="modifiers">public abstract class </span><span class="element-name type-name-label">AbstractSynchronousStateTransactionManager&lt;T&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></span></div>
<div class="block">NOTICE: This is a fork of Spring's <code>AbstractPlatformTransactionManager</code> modernizing it
 to use enums, Slf4j and decoupling from Spring.
 <p>
 Abstract base class that implements standard transaction workflow,
 serving as basis for concrete platform transaction managers.

 <p>This base class provides the following workflow handling:
 <ul>
 <li>determines if there is an existing transaction;
 <li>applies the appropriate propagation behavior;
 <li>suspends and resumes transactions if necessary;
 <li>checks the rollback-only flag on commit;
 <li>applies the appropriate modification on rollback
 (actual rollback or setting rollback-only);
 <li>triggers registered synchronization callbacks
 (if transaction synchronization is active).
 </ul>

 <p>Subclasses have to implement specific template methods for specific
 states of a transaction, e.g.: begin, suspend, resume, commit, rollback.
 The most important of them are abstract and must be provided by a concrete
 implementation; for the rest, defaults are provided, so overriding is optional.

 <p>Transaction synchronization is a generic mechanism for registering callbacks
 that get invoked at transaction completion time. This is mainly used internally
 by the data access support classes for JDBC, Hibernate, JPA, etc when running
 within a JTA transaction: They register resources that are opened within the
 transaction for closing at transaction completion time, allowing e.g. for reuse
 of the same Hibernate Session within the transaction. The same mechanism can
 also be leveraged for custom synchronization needs in an application.

 <p>The state of this class is serializable, to allow for serializing the
 transaction strategy along with proxies that carry a transaction interceptor.
 It is up to subclasses if they wish to make their state to be serializable too.
 They should implement the <code>java.io.Serializable</code> marker interface in
 that case, and potentially a private <code>readObject()</code> method (according
 to Java serialization rules) if they need to restore any transient state.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>28.03.2003, 3.4.0</dd>
<dt>Author:</dt>
<dd>Juergen Hoeller, graemerocher, Denis Stepanov</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#setTransactionSynchronization(io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.Synchronization)"><code>setTransactionSynchronization(io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.Synchronization)</code></a></li>
<li><a href="TransactionSynchronizationManager.html" title="class in io.micronaut.transaction.support"><code>TransactionSynchronizationManager</code></a></li>
<li><a href="../../../../serialized-form.html#io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected static final class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder.html" class="type-name-link" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder</a></code></div>
<div class="col-last even-row-color">
<div class="block">Holder for suspended resources.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected org.slf4j.Logger</code></div>
<div class="col-second even-row-color"><code><a href="#logger" class="member-name-link">logger</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">AbstractSynchronousStateTransactionManager</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#commit(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionStatus)" class="member-name-link">commit</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionStatus.html" title="interface in io.micronaut.transaction">TransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#determineTimeout(io.micronaut.transaction.TransactionDefinition)" class="member-name-link">determineTimeout</a><wbr>(<a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine the actual timeout to use for the given definition.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#doBegin(java.lang.Object,io.micronaut.transaction.TransactionDefinition)" class="member-name-link">doBegin</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Begin a new transaction with semantics according to the given transaction
 definition.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doCleanupAfterCompletion(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)" class="member-name-link">doCleanupAfterCompletion</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Cleanup resources after transaction completion.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)" class="member-name-link">doCommit</a><wbr>(<a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Perform an actual commit of the given transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doDestroyState(io.micronaut.transaction.support.SynchronousTransactionState)" class="member-name-link">doDestroyState</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Destroy the state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)" class="member-name-link">doGetTransaction</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return a transaction object for the current transaction state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doResume(java.lang.Object,java.lang.Object)" class="member-name-link">doResume</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Resume the resources of the current transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#doRollback(io.micronaut.transaction.support.DefaultTransactionStatus)" class="member-name-link">doRollback</a><wbr>(<a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Perform an actual rollback of the given transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doSetRollbackOnly(io.micronaut.transaction.support.DefaultTransactionStatus)" class="member-name-link">doSetRollbackOnly</a><wbr>(<a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the given transaction rollback-only.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doSuspend(java.lang.Object)" class="member-name-link">doSuspend</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Suspend the resources of the current transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;R&gt;&nbsp;R</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#execute(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,io.micronaut.transaction.TransactionCallback)" class="member-name-link">execute</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 <a href="../TransactionCallback.html" title="interface in io.micronaut.transaction">TransactionCallback</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>,<wbr>R&gt;&nbsp;callback)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Execute a read-only transaction within the context of the function.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;R&gt;&nbsp;R</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeRead(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionCallback)" class="member-name-link">executeRead</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionCallback.html" title="interface in io.micronaut.transaction">TransactionCallback</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>,<wbr>R&gt;&nbsp;callback)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Execute a read-only transaction within the context of the function.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;R&gt;&nbsp;R</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeWrite(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionCallback)" class="member-name-link">executeWrite</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionCallback.html" title="interface in io.micronaut.transaction">TransactionCallback</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>,<wbr>R&gt;&nbsp;callback)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Execute a default transaction within the context of the function.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getConnection(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)" class="member-name-link">getConnection</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">The connection for the given transaction object.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDefaultTimeout()" class="member-name-link">getDefaultTimeout</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the default timeout that this transaction manager should apply
 if there is no timeout specified at the transaction level, in seconds.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="../TransactionStatus.html" title="interface in io.micronaut.transaction">TransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTransaction(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition)" class="member-name-link">getTransaction</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This implementation handles propagation behavior.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.Synchronization</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTransactionSynchronization()" class="member-name-link">getTransactionSynchronization</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return if this transaction manager should activate the thread-bound
 transaction synchronization support.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#invokeAfterCompletion(io.micronaut.transaction.support.SynchronousTransactionState,java.util.List,io.micronaut.transaction.support.TransactionSynchronization.Status)" class="member-name-link">invokeAfterCompletion</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TransactionSynchronization.html" title="interface in io.micronaut.transaction.support">TransactionSynchronization</a>&gt;&nbsp;synchronizations,
 <a href="TransactionSynchronization.Status.html" title="enum class in io.micronaut.transaction.support">TransactionSynchronization.Status</a>&nbsp;completionStatus)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Actually invoke the <code>afterCompletion</code> methods of the
 given Spring TransactionSynchronization objects.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)" class="member-name-link">isExistingTransaction</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if the given transaction object indicates an existing transaction
 (that is, a transaction which has already started).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isFailEarlyOnGlobalRollbackOnly()" class="member-name-link">isFailEarlyOnGlobalRollbackOnly</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isGlobalRollbackOnParticipationFailure()" class="member-name-link">isGlobalRollbackOnParticipationFailure</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isNestedTransactionAllowed()" class="member-name-link">isNestedTransactionAllowed</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isRollbackOnCommitFailure()" class="member-name-link">isRollbackOnCommitFailure</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isValidateExistingTransaction()" class="member-name-link">isValidateExistingTransaction</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return whether existing transactions should be validated before participating
 in them.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#newTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)" class="member-name-link">newTransactionStatus</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 boolean&nbsp;newTransaction,
 boolean&nbsp;newSynchronization,
 boolean&nbsp;debug,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a TransactionStatus instance for the given arguments.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareForCommit(io.micronaut.transaction.support.DefaultTransactionStatus)" class="member-name-link">prepareForCommit</a><wbr>(<a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Make preparations for commit, to be performed before the
 <code>beforeCommit</code> synchronization callbacks occur.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareSynchronization(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus,io.micronaut.transaction.TransactionDefinition)" class="member-name-link">prepareSynchronization</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initialize transaction synchronization as appropriate.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)" class="member-name-link">prepareTransactionStatus</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 boolean&nbsp;newTransaction,
 boolean&nbsp;newSynchronization,
 boolean&nbsp;debug,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new TransactionStatus for the given arguments,
 also initializing transaction synchronization as appropriate.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerAfterCompletionWithExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,java.util.List)" class="member-name-link">registerAfterCompletionWithExistingTransaction</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TransactionSynchronization.html" title="interface in io.micronaut.transaction.support">TransactionSynchronization</a>&gt;&nbsp;synchronizations)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Register the given list of transaction synchronizations with the existing transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resume(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder)" class="member-name-link">resume</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder</a>&nbsp;resourcesHolder)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Resume the given transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#rollback(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionStatus)" class="member-name-link">rollback</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionStatus.html" title="interface in io.micronaut.transaction">TransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setDefaultTimeout(java.time.Duration)" class="member-name-link">setDefaultTimeout</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;defaultTimeout)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specify the default timeout that this transaction manager should apply
 if there is no timeout specified at the transaction level, in seconds.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setFailEarlyOnGlobalRollbackOnly(boolean)" class="member-name-link">setFailEarlyOnGlobalRollbackOnly</a><wbr>(boolean&nbsp;failEarlyOnGlobalRollbackOnly)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set whether to fail early in case of the transaction being globally marked
 as rollback-only.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setGlobalRollbackOnParticipationFailure(boolean)" class="member-name-link">setGlobalRollbackOnParticipationFailure</a><wbr>(boolean&nbsp;globalRollbackOnParticipationFailure)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set whether to globally mark an existing transaction as rollback-only
 after a participating transaction failed.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setNestedTransactionAllowed(boolean)" class="member-name-link">setNestedTransactionAllowed</a><wbr>(boolean&nbsp;nestedTransactionAllowed)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set whether nested transactions are allowed.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setRollbackOnCommitFailure(boolean)" class="member-name-link">setRollbackOnCommitFailure</a><wbr>(boolean&nbsp;rollbackOnCommitFailure)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set whether <code>doRollback</code> should be performed on failure of the
 <code>doCommit</code> call.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setTransactionSynchronization(io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.Synchronization)" class="member-name-link">setTransactionSynchronization</a><wbr>(io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.Synchronization&nbsp;transactionSynchronization)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set when this transaction manager should activate the thread-bound
 transaction synchronization support.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setValidateExistingTransaction(boolean)" class="member-name-link">setValidateExistingTransaction</a><wbr>(boolean&nbsp;validateExistingTransaction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set whether existing transactions should be validated before participating
 in them.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#shouldCommitOnGlobalRollbackOnly()" class="member-name-link">shouldCommitOnGlobalRollbackOnly</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return whether to call <code>doCommit</code> on a transaction that has been
 marked as rollback-only in a global fashion.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final <a href="AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#suspend(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)" class="member-name-link">suspend</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Suspend the given transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#triggerBeforeCommit(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus)" class="member-name-link">triggerBeforeCommit</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Trigger <code>beforeCommit</code> callbacks.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#triggerBeforeCompletion(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus)" class="member-name-link">triggerBeforeCompletion</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Trigger <code>beforeCompletion</code> callbacks.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#useSavepointForNestedTransaction()" class="member-name-link">useSavepointForNestedTransaction</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return whether to use a savepoint for a nested transaction.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="logger">
<h3>logger</h3>
<div class="member-signature"><span class="modifiers">protected transient</span>&nbsp;<span class="return-type">org.slf4j.Logger</span>&nbsp;<span class="element-name">logger</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>AbstractSynchronousStateTransactionManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">AbstractSynchronousStateTransactionManager</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="execute(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,io.micronaut.transaction.TransactionCallback)">
<h3>execute</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;R&gt;</span>&nbsp;<span class="return-type">R</span>&nbsp;<span class="element-name">execute</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 @NonNull
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 @NonNull
 <a href="../TransactionCallback.html" title="interface in io.micronaut.transaction">TransactionCallback</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>,<wbr>R&gt;&nbsp;callback)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="TransactionStateOperations.html#execute(S,io.micronaut.transaction.TransactionDefinition,io.micronaut.transaction.TransactionCallback)">TransactionStateOperations</a></code></span></div>
<div class="block">Execute a read-only transaction within the context of the function.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="TransactionStateOperations.html#execute(S,io.micronaut.transaction.TransactionDefinition,io.micronaut.transaction.TransactionCallback)">execute</a></code>&nbsp;in interface&nbsp;<code><a href="TransactionStateOperations.html" title="interface in io.micronaut.transaction.support">TransactionStateOperations</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>,<wbr><a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&gt;</code></dd>
<dt>Type Parameters:</dt>
<dd><code>R</code> - The result</dd>
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>definition</code> - The transaction definition</dd>
<dd><code>callback</code> - The call back</dd>
<dt>Returns:</dt>
<dd>The result</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="executeRead(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionCallback)">
<h3>executeRead</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;R&gt;</span>&nbsp;<span class="return-type">R</span>&nbsp;<span class="element-name">executeRead</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 @NonNull
 <a href="../TransactionCallback.html" title="interface in io.micronaut.transaction">TransactionCallback</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>,<wbr>R&gt;&nbsp;callback)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="TransactionStateOperations.html#executeRead(S,io.micronaut.transaction.TransactionCallback)">TransactionStateOperations</a></code></span></div>
<div class="block">Execute a read-only transaction within the context of the function.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="TransactionStateOperations.html#executeRead(S,io.micronaut.transaction.TransactionCallback)">executeRead</a></code>&nbsp;in interface&nbsp;<code><a href="TransactionStateOperations.html" title="interface in io.micronaut.transaction.support">TransactionStateOperations</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>,<wbr><a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&gt;</code></dd>
<dt>Type Parameters:</dt>
<dd><code>R</code> - The result</dd>
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>callback</code> - The call back</dd>
<dt>Returns:</dt>
<dd>The result</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="executeWrite(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionCallback)">
<h3>executeWrite</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;R&gt;</span>&nbsp;<span class="return-type">R</span>&nbsp;<span class="element-name">executeWrite</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 @NonNull
 <a href="../TransactionCallback.html" title="interface in io.micronaut.transaction">TransactionCallback</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>,<wbr>R&gt;&nbsp;callback)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="TransactionStateOperations.html#executeWrite(S,io.micronaut.transaction.TransactionCallback)">TransactionStateOperations</a></code></span></div>
<div class="block">Execute a default transaction within the context of the function.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="TransactionStateOperations.html#executeWrite(S,io.micronaut.transaction.TransactionCallback)">executeWrite</a></code>&nbsp;in interface&nbsp;<code><a href="TransactionStateOperations.html" title="interface in io.micronaut.transaction.support">TransactionStateOperations</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>,<wbr><a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&gt;</code></dd>
<dt>Type Parameters:</dt>
<dd><code>R</code> - The result</dd>
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>callback</code> - The call back</dd>
<dt>Returns:</dt>
<dd>The result</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setTransactionSynchronization(io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.Synchronization)">
<h3>setTransactionSynchronization</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setTransactionSynchronization</span><wbr><span class="parameters">(@NonNull
 io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.Synchronization&nbsp;transactionSynchronization)</span></div>
<div class="block">Set when this transaction manager should activate the thread-bound
 transaction synchronization support. Default is "always".
 <p>Note that transaction synchronization isn't supported for
 multiple concurrent transactions by different transaction managers.
 Only one transaction manager is allowed to activate it at any time.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transactionSynchronization</code> - the synchronization to use</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><code>AbstractSynchronousStateTransactionManager.Synchronization.ALWAYS</code></li>
<li><code>AbstractSynchronousStateTransactionManager.Synchronization.ON_ACTUAL_TRANSACTION</code></li>
<li><code>AbstractSynchronousStateTransactionManager.Synchronization.NEVER</code></li>
<li><a href="TransactionSynchronization.html" title="interface in io.micronaut.transaction.support"><code>TransactionSynchronization</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTransactionSynchronization()">
<h3>getTransactionSynchronization</h3>
<div class="member-signature"><span class="annotations">@NonNull
</span><span class="modifiers">public final</span>&nbsp;<span class="return-type">io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.Synchronization</span>&nbsp;<span class="element-name">getTransactionSynchronization</span>()</div>
<div class="block">Return if this transaction manager should activate the thread-bound
 transaction synchronization support.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The current synchronization</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setDefaultTimeout(java.time.Duration)">
<h3>setDefaultTimeout</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setDefaultTimeout</span><wbr><span class="parameters">(@NonNull
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;defaultTimeout)</span></div>
<div class="block">Specify the default timeout that this transaction manager should apply
 if there is no timeout specified at the transaction level, in seconds.
 <p>Default is the underlying transaction infrastructure's default timeout,
 e.g. typically 30 seconds in case of a JTA provider, indicated by the
 <code>TransactionDefinition.TIMEOUT_DEFAULT</code> value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>defaultTimeout</code> - The default timeout</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../TransactionDefinition.html#TIMEOUT_DEFAULT"><code>TransactionDefinition.TIMEOUT_DEFAULT</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDefaultTimeout()">
<h3>getDefaultTimeout</h3>
<div class="member-signature"><span class="annotations">@NonNull
</span><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a></span>&nbsp;<span class="element-name">getDefaultTimeout</span>()</div>
<div class="block">Return the default timeout that this transaction manager should apply
 if there is no timeout specified at the transaction level, in seconds.
 <p>Returns <code>TransactionDefinition.TIMEOUT_DEFAULT</code> to indicate
 the underlying transaction infrastructure's default timeout.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The default timeout</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setNestedTransactionAllowed(boolean)">
<h3>setNestedTransactionAllowed</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setNestedTransactionAllowed</span><wbr><span class="parameters">(boolean&nbsp;nestedTransactionAllowed)</span></div>
<div class="block">Set whether nested transactions are allowed. Default is "false".
 <p>Typically initialized with an appropriate default by the
 concrete transaction manager subclass.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nestedTransactionAllowed</code> - Whether a nested transaction is allowed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isNestedTransactionAllowed()">
<h3>isNestedTransactionAllowed</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isNestedTransactionAllowed</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Return whether nested transactions are allowed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setValidateExistingTransaction(boolean)">
<h3>setValidateExistingTransaction</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setValidateExistingTransaction</span><wbr><span class="parameters">(boolean&nbsp;validateExistingTransaction)</span></div>
<div class="block">Set whether existing transactions should be validated before participating
 in them.
 <p>When participating in an existing transaction (e.g. with
 PROPAGATION_REQUIRED or PROPAGATION_SUPPORTS encountering an existing
 transaction), this outer transaction's characteristics will apply even
 to the inner transaction scope. Validation will detect incompatible
 isolation level and read-only settings on the inner transaction definition
 and reject participation accordingly through throwing a corresponding exception.
 <p>Default is "false", leniently ignoring inner transaction settings,
 simply overriding them with the outer transaction's characteristics.
 Switch this flag to "true" in order to enforce strict validation.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>validateExistingTransaction</code> - Whether to validate an existing transaction</dd>
<dt>Since:</dt>
<dd>2.5.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isValidateExistingTransaction()">
<h3>isValidateExistingTransaction</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isValidateExistingTransaction</span>()</div>
<div class="block">Return whether existing transactions should be validated before participating
 in them.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Whether to validate existing transactions</dd>
<dt>Since:</dt>
<dd>2.5.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setGlobalRollbackOnParticipationFailure(boolean)">
<h3>setGlobalRollbackOnParticipationFailure</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setGlobalRollbackOnParticipationFailure</span><wbr><span class="parameters">(boolean&nbsp;globalRollbackOnParticipationFailure)</span></div>
<div class="block">Set whether to globally mark an existing transaction as rollback-only
 after a participating transaction failed.
 <p>Default is "true": If a participating transaction (e.g. with
 PROPAGATION_REQUIRED or PROPAGATION_SUPPORTS encountering an existing
 transaction) fails, the transaction will be globally marked as rollback-only.
 The only possible outcome of such a transaction is a rollback: The
 transaction originator <i>cannot</i> make the transaction commit anymore.
 <p>Switch this to "false" to let the transaction originator make the rollback
 decision. If a participating transaction fails with an exception, the caller
 can still decide to continue with a different path within the transaction.
 However, note that this will only work as long as all participating resources
 are capable of continuing towards a transaction commit even after a data access
 failure: This is generally not the case for a Hibernate Session, for example;
 neither is it for a sequence of JDBC insert/update/delete operations.
 <p><b>Note:</b>This flag only applies to an explicit rollback attempt for a
 subtransaction, typically caused by an exception thrown by a data access operation
 (where TransactionInterceptor will trigger a <code>PlatformTransactionManager.rollback()</code>
 call according to a rollback rule). If the flag is off, the caller can handle the exception
 and decide on a rollback, independent of the rollback rules of the subtransaction.
 This flag does, however, <i>not</i> apply to explicit <code>setRollbackOnly</code>
 calls on a <code>TransactionStatus</code>, which will always cause an eventual
 global rollback (as it might not throw an exception after the rollback-only call).
 <p>The recommended solution for handling failure of a subtransaction
 is a "nested transaction", where the global transaction can be rolled
 back to a savepoint taken at the beginning of the subtransaction.
 propagation NESTED provides exactly those semantics; however, it will
 only work when nested transaction support is available. This is the case
 with DataSourceTransactionManager, but not with JtaTransactionManager.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>globalRollbackOnParticipationFailure</code> - Whether to globally mark transaction as rollback only</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#setNestedTransactionAllowed(boolean)"><code>setNestedTransactionAllowed(boolean)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isGlobalRollbackOnParticipationFailure()">
<h3>isGlobalRollbackOnParticipationFailure</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isGlobalRollbackOnParticipationFailure</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Return whether to globally mark an existing transaction as rollback-only
 after a participating transaction failed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setFailEarlyOnGlobalRollbackOnly(boolean)">
<h3>setFailEarlyOnGlobalRollbackOnly</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setFailEarlyOnGlobalRollbackOnly</span><wbr><span class="parameters">(boolean&nbsp;failEarlyOnGlobalRollbackOnly)</span></div>
<div class="block">Set whether to fail early in case of the transaction being globally marked
 as rollback-only.
 <p>Default is "false", only causing an UnexpectedRollbackException at the
 outermost transaction boundary. Switch this flag on to cause an
 UnexpectedRollbackException as early as the global rollback-only marker
 has been first detected, even from within an inner transaction boundary.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>failEarlyOnGlobalRollbackOnly</code> - Sets whether to fail early on global rollback</dd>
<dt>Since:</dt>
<dd>2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../exceptions/UnexpectedRollbackException.html" title="class in io.micronaut.transaction.exceptions"><code>UnexpectedRollbackException</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isFailEarlyOnGlobalRollbackOnly()">
<h3>isFailEarlyOnGlobalRollbackOnly</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isFailEarlyOnGlobalRollbackOnly</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Return whether to fail early in case of the transaction being globally marked
 as rollback-only.</dd>
<dt>Since:</dt>
<dd>2.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setRollbackOnCommitFailure(boolean)">
<h3>setRollbackOnCommitFailure</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setRollbackOnCommitFailure</span><wbr><span class="parameters">(boolean&nbsp;rollbackOnCommitFailure)</span></div>
<div class="block">Set whether <code>doRollback</code> should be performed on failure of the
 <code>doCommit</code> call. Typically not necessary and thus to be avoided,
 as it can potentially override the commit exception with a subsequent
 rollback exception.
 <p>Default is "false".</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rollbackOnCommitFailure</code> - Sets whether to rollback on commit failure</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>doCommit(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a></li>
<li><a href="#doRollback(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>doRollback(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isRollbackOnCommitFailure()">
<h3>isRollbackOnCommitFailure</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isRollbackOnCommitFailure</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Return whether <code>doRollback</code> should be performed on failure of the
 <code>doCommit</code> call.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTransaction(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition)">
<h3>getTransaction</h3>
<div class="member-signature"><span class="annotations">@NonNull
</span><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="../TransactionStatus.html" title="interface in io.micronaut.transaction">TransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;</span>&nbsp;<span class="element-name">getTransaction</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 @Nullable
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</span>
                                          throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">This implementation handles propagation behavior. Delegates to
 <code>doGetTransaction</code>, <code>isExistingTransaction</code>
 and <code>doBegin</code>.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)"><code>doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)</code></a></li>
<li><a href="#isExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)"><code>isExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState, java.lang.Object)</code></a></li>
<li><a href="#doBegin(java.lang.Object,io.micronaut.transaction.TransactionDefinition)"><code>doBegin(java.lang.Object, io.micronaut.transaction.TransactionDefinition)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)">
<h3>prepareTransactionStatus</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;</span>&nbsp;<span class="element-name">prepareTransactionStatus</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 boolean&nbsp;newTransaction,
 boolean&nbsp;newSynchronization,
 boolean&nbsp;debug,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</span></div>
<div class="block">Create a new TransactionStatus for the given arguments,
 also initializing transaction synchronization as appropriate.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>definition</code> - The definition</dd>
<dd><code>transaction</code> - The transaction object</dd>
<dd><code>newTransaction</code> - Is this is a new transaction</dd>
<dd><code>newSynchronization</code> - Is this a new synchronization</dd>
<dd><code>debug</code> - Is debug enabled</dd>
<dd><code>suspendedResources</code> - Any suspended resources</dd>
<dt>Returns:</dt>
<dd>The status</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#newTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)"><code>newTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState, io.micronaut.transaction.TransactionDefinition, java.lang.Object, boolean, boolean, boolean, java.lang.Object)</code></a></li>
<li><a href="#prepareTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)"><code>prepareTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState, io.micronaut.transaction.TransactionDefinition, java.lang.Object, boolean, boolean, boolean, java.lang.Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="newTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)">
<h3>newTransactionStatus</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;</span>&nbsp;<span class="element-name">newTransactionStatus</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 boolean&nbsp;newTransaction,
 boolean&nbsp;newSynchronization,
 boolean&nbsp;debug,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</span></div>
<div class="block">Create a TransactionStatus instance for the given arguments.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>definition</code> - The definition</dd>
<dd><code>transaction</code> - The transaction object</dd>
<dd><code>newTransaction</code> - Is this is a new transaction</dd>
<dd><code>newSynchronization</code> - Is this a new synchronization</dd>
<dd><code>debug</code> - Is debug enabled</dd>
<dd><code>suspendedResources</code> - Any suspended resources</dd>
<dt>Returns:</dt>
<dd>The status</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getConnection(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">
<h3>getConnection</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a></span>&nbsp;<span class="element-name">getConnection</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span></div>
<div class="block">The connection for the given transaction object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>transaction</code> - The transaction</dd>
<dt>Returns:</dt>
<dd>The connection.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareSynchronization(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus,io.micronaut.transaction.TransactionDefinition)">
<h3>prepareSynchronization</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">prepareSynchronization</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 @NonNull
 <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status,
 @NonNull
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</span></div>
<div class="block">Initialize transaction synchronization as appropriate.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>status</code> - The status</dd>
<dd><code>definition</code> - The definition</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="determineTimeout(io.micronaut.transaction.TransactionDefinition)">
<h3>determineTimeout</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a></span>&nbsp;<span class="element-name">determineTimeout</span><wbr><span class="parameters">(<a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</span></div>
<div class="block">Determine the actual timeout to use for the given definition.
 Will fall back to this manager's default timeout if the
 transaction definition doesn't specify a non-default value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>definition</code> - the transaction definition</dd>
<dt>Returns:</dt>
<dd>the actual timeout to use</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../TransactionDefinition.html#getTimeout()"><code>TransactionDefinition.getTimeout()</code></a></li>
<li><a href="#setDefaultTimeout(java.time.Duration)"><code>setDefaultTimeout(java.time.Duration)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="suspend(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">
<h3>suspend</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder</a></span>&nbsp;<span class="element-name">suspend</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span>
                                                                                     throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Suspend the given transaction. Suspends transaction synchronization first,
 then delegates to the <code>doSuspend</code> template method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>transaction</code> - the current transaction object
                    (or <code>null</code> to just suspend active synchronizations, if any)</dd>
<dt>Returns:</dt>
<dd>an object that holds suspended resources
 (or <code>null</code> if neither transaction nor synchronization active)</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - Thrown if an error occurs suspending the transaction</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#doSuspend(java.lang.Object)"><code>doSuspend(java.lang.Object)</code></a></li>
<li><a href="#resume(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder)"><code>resume(io.micronaut.transaction.support.SynchronousTransactionState, java.lang.Object, io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resume(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder)">
<h3>resume</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">resume</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 @Nullable
 <a href="AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder</a>&nbsp;resourcesHolder)</span>
                     throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Resume the given transaction. Delegates to the <code>doResume</code>
 template method first, then resuming transaction synchronization.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>transaction</code> - the current transaction object</dd>
<dd><code>resourcesHolder</code> - the object that holds suspended resources,
                        as returned by <code>suspend</code> (or <code>null</code> to just
                        resume synchronizations, if any)</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - Thrown if an error occurs resuming the transaction</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#doResume(java.lang.Object,java.lang.Object)"><code>doResume(java.lang.Object, java.lang.Object)</code></a></li>
<li><a href="#suspend(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)"><code>suspend(io.micronaut.transaction.support.SynchronousTransactionState, java.lang.Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="commit(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionStatus)">
<h3>commit</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">commit</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionStatus.html" title="interface in io.micronaut.transaction">TransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</span>
                  throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rollback(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionStatus)">
<h3>rollback</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">rollback</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionStatus.html" title="interface in io.micronaut.transaction">TransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</span>
                    throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="triggerBeforeCommit(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus)">
<h3>triggerBeforeCommit</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">triggerBeforeCommit</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 @NonNull
 <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</span></div>
<div class="block">Trigger <code>beforeCommit</code> callbacks.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>status</code> - object representing the transaction</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="triggerBeforeCompletion(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus)">
<h3>triggerBeforeCompletion</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">triggerBeforeCompletion</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 @NonNull
 <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</span></div>
<div class="block">Trigger <code>beforeCompletion</code> callbacks.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>status</code> - object representing the transaction</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="invokeAfterCompletion(io.micronaut.transaction.support.SynchronousTransactionState,java.util.List,io.micronaut.transaction.support.TransactionSynchronization.Status)">
<h3>invokeAfterCompletion</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">invokeAfterCompletion</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TransactionSynchronization.html" title="interface in io.micronaut.transaction.support">TransactionSynchronization</a>&gt;&nbsp;synchronizations,
 <a href="TransactionSynchronization.Status.html" title="enum class in io.micronaut.transaction.support">TransactionSynchronization.Status</a>&nbsp;completionStatus)</span></div>
<div class="block">Actually invoke the <code>afterCompletion</code> methods of the
 given Spring TransactionSynchronization objects.
 <p>To be called by this abstract manager itself, or by special implementations
 of the <code>registerAfterCompletionWithExistingTransaction</code> callback.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>synchronizations</code> - a List of TransactionSynchronization objects</dd>
<dd><code>completionStatus</code> - the completion status according to the
                         constants in the TransactionSynchronization interface</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#registerAfterCompletionWithExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,java.util.List)"><code>registerAfterCompletionWithExistingTransaction(SynchronousTransactionState, Object, List)</code></a></li>
<li><a href="TransactionSynchronization.Status.html#COMMITTED"><code>TransactionSynchronization.Status.COMMITTED</code></a></li>
<li><a href="TransactionSynchronization.Status.html#ROLLED_BACK"><code>TransactionSynchronization.Status.ROLLED_BACK</code></a></li>
<li><a href="TransactionSynchronization.Status.html#UNKNOWN"><code>TransactionSynchronization.Status.UNKNOWN</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)">
<h3>doGetTransaction</h3>
<div class="member-signature"><span class="annotations">@NonNull
</span><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">doGetTransaction</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state)</span>
                                    throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Return a transaction object for the current transaction state.
 <p>The returned object will usually be specific to the concrete transaction
 manager implementation, carrying corresponding transaction state in a
 modifiable fashion. This object will be passed into the other template
 methods (e.g. doBegin and doCommit), either directly or as part of a
 DefaultTransactionStatus instance.
 <p>The returned object should contain information about any existing
 transaction, that is, a transaction that has already started before the
 current <code>getTransaction</code> call on the transaction manager.
 Consequently, a <code>doGetTransaction</code> implementation will usually
 look for an existing transaction and store corresponding state in the
 returned transaction object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dt>Returns:</dt>
<dd>the current transaction object</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/CannotCreateTransactionException.html" title="class in io.micronaut.transaction.exceptions">CannotCreateTransactionException</a></code> - if transaction support is not available</dd>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of lookup or system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#doBegin(java.lang.Object,io.micronaut.transaction.TransactionDefinition)"><code>doBegin(java.lang.Object, io.micronaut.transaction.TransactionDefinition)</code></a></li>
<li><a href="#doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>doCommit(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a></li>
<li><a href="#doRollback(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>doRollback(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a></li>
<li><a href="DefaultTransactionStatus.html#getTransaction()"><code>DefaultTransactionStatus.getTransaction()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">
<h3>isExistingTransaction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isExistingTransaction</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 @NonNull
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span>
                                 throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Check if the given transaction object indicates an existing transaction
 (that is, a transaction which has already started).
 <p>The result will be evaluated according to the specified propagation
 behavior for the new transaction. An existing transaction might get
 suspended (in case of PROPAGATION_REQUIRES_NEW), or the new transaction
 might participate in the existing one (in case of PROPAGATION_REQUIRED).
 <p>The default implementation returns <code>false</code>, assuming that
 participating in existing transactions is generally not supported.
 Subclasses are of course encouraged to provide such support.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>transaction</code> - transaction object returned by doGetTransaction</dd>
<dt>Returns:</dt>
<dd>if there is an existing transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)"><code>doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="useSavepointForNestedTransaction()">
<h3>useSavepointForNestedTransaction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">useSavepointForNestedTransaction</span>()</div>
<div class="block">Return whether to use a savepoint for a nested transaction.
 <p>Default is <code>true</code>, which causes delegation to DefaultTransactionStatus
 for creating and holding a savepoint. If the transaction object does not implement
 the SavepointManager interface, a NestedTransactionNotSupportedException will be
 thrown. Else, the SavepointManager will be asked to create a new savepoint to
 demarcate the start of the nested transaction.
 <p>Subclasses can override this to return <code>false</code>, causing a further
 call to <code>doBegin</code> - within the context of an already existing transaction.
 The <code>doBegin</code> implementation needs to handle this accordingly in such
 a scenario. This is appropriate for JTA, for example.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Whether to use save points for nested transactions</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="AbstractTransactionStatus.html#createAndHoldSavepoint()"><code>AbstractTransactionStatus.createAndHoldSavepoint()</code></a></li>
<li><a href="AbstractTransactionStatus.html#rollbackToHeldSavepoint()"><code>AbstractTransactionStatus.rollbackToHeldSavepoint()</code></a></li>
<li><a href="AbstractTransactionStatus.html#releaseHeldSavepoint()"><code>AbstractTransactionStatus.releaseHeldSavepoint()</code></a></li>
<li><a href="#doBegin(java.lang.Object,io.micronaut.transaction.TransactionDefinition)"><code>doBegin(java.lang.Object, io.micronaut.transaction.TransactionDefinition)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doBegin(java.lang.Object,io.micronaut.transaction.TransactionDefinition)">
<h3>doBegin</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doBegin</span><wbr><span class="parameters">(@NonNull
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</span>
                         throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Begin a new transaction with semantics according to the given transaction
 definition. Does not have to care about applying the propagation behavior,
 as this has already been handled by this abstract manager.
 <p>This method gets called when the transaction manager has decided to actually
 start a new transaction. Either there wasn't any transaction before, or the
 previous transaction has been suspended.
 <p>A special scenario is a nested transaction without savepoint: If
 <code>useSavepointForNestedTransaction()</code> returns "false", this method
 will be called to start a nested transaction when necessary. In such a context,
 there will be an active transaction: The implementation of this method has
 to detect this and start an appropriate nested transaction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transaction</code> - transaction object returned by <code>doGetTransaction</code></dd>
<dd><code>definition</code> - a TransactionDefinition instance, describing propagation
                    behavior, isolation level, read-only flag, timeout, and transaction name</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of creation or system errors</dd>
<dd><code><a href="../exceptions/NestedTransactionNotSupportedException.html" title="class in io.micronaut.transaction.exceptions">NestedTransactionNotSupportedException</a></code> - if the underlying transaction does not support nesting</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doSuspend(java.lang.Object)">
<h3>doSuspend</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">doSuspend</span><wbr><span class="parameters">(@NonNull
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span>
                    throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Suspend the resources of the current transaction.
 Transaction synchronization will already have been suspended.
 <p>The default implementation throws a TransactionSuspensionNotSupportedException,
 assuming that transaction suspension is generally not supported.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transaction</code> - transaction object returned by <code>doGetTransaction</code></dd>
<dt>Returns:</dt>
<dd>an object that holds suspended resources
 (will be kept unexamined for passing it into doResume)</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionSuspensionNotSupportedException.html" title="class in io.micronaut.transaction.exceptions">TransactionSuspensionNotSupportedException</a></code> - if suspending is not supported by the transaction manager implementation</dd>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#doResume(java.lang.Object,java.lang.Object)"><code>doResume(java.lang.Object, java.lang.Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doResume(java.lang.Object,java.lang.Object)">
<h3>doResume</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doResume</span><wbr><span class="parameters">(@Nullable
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 @NonNull
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</span>
                 throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Resume the resources of the current transaction.
 Transaction synchronization will be resumed afterwards.
 <p>The default implementation throws a TransactionSuspensionNotSupportedException,
 assuming that transaction suspension is generally not supported.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transaction</code> - transaction object returned by <code>doGetTransaction</code></dd>
<dd><code>suspendedResources</code> - the object that holds suspended resources,
                           as returned by doSuspend</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionSuspensionNotSupportedException.html" title="class in io.micronaut.transaction.exceptions">TransactionSuspensionNotSupportedException</a></code> - if resuming is not supported by the transaction manager implementation</dd>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#doSuspend(java.lang.Object)"><code>doSuspend(java.lang.Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="shouldCommitOnGlobalRollbackOnly()">
<h3>shouldCommitOnGlobalRollbackOnly</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">shouldCommitOnGlobalRollbackOnly</span>()</div>
<div class="block">Return whether to call <code>doCommit</code> on a transaction that has been
 marked as rollback-only in a global fashion.
 <p>Does not apply if an application locally sets the transaction to rollback-only
 via the TransactionStatus, but only to the transaction itself being marked as
 rollback-only by the transaction coordinator.
 <p>Default is "false": Local transaction strategies usually don't hold the rollback-only
 marker in the transaction itself, therefore they can't handle rollback-only transactions
 as part of transaction commit. Hence, AbstractPlatformTransactionManager will trigger
 a rollback in that case, throwing an UnexpectedRollbackException afterwards.
 <p>Override this to return "true" if the concrete transaction manager expects a
 <code>doCommit</code> call even for a rollback-only transaction, allowing for
 special handling there. This will, for example, be the case for JTA, where
 <code>UserTransaction.commit</code> will check the read-only flag itself and
 throw a corresponding RollbackException, which might include the specific reason
 (such as a transaction timeout).
 <p>If this method returns "true" but the <code>doCommit</code> implementation does not
 throw an exception, this transaction manager will throw an UnexpectedRollbackException
 itself. This should not be the typical case; it is mainly checked to cover misbehaving
 JTA providers that silently roll back even when the rollback has not been requested
 by the calling code.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Whether to call <code>doCommit</code> on a transaction that has been marked as rollback-only in a global fashion.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>doCommit(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a></li>
<li><a href="DefaultTransactionStatus.html#isGlobalRollbackOnly()"><code>DefaultTransactionStatus.isGlobalRollbackOnly()</code></a></li>
<li><a href="AbstractTransactionStatus.html#isLocalRollbackOnly()"><code>AbstractTransactionStatus.isLocalRollbackOnly()</code></a></li>
<li><a href="../TransactionExecution.html#setRollbackOnly()"><code>TransactionExecution.setRollbackOnly()</code></a></li>
<li><a href="../exceptions/UnexpectedRollbackException.html" title="class in io.micronaut.transaction.exceptions"><code>UnexpectedRollbackException</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareForCommit(io.micronaut.transaction.support.DefaultTransactionStatus)">
<h3>prepareForCommit</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">prepareForCommit</span><wbr><span class="parameters">(<a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</span></div>
<div class="block">Make preparations for commit, to be performed before the
 <code>beforeCommit</code> synchronization callbacks occur.
 <p>Note that exceptions will get propagated to the commit caller
 and cause a rollback of the transaction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>status</code> - the status representation of the transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - in case of errors; will be <b>propagated to the caller</b>
                          (note: do not throw TransactionException subclasses here!)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)">
<h3>doCommit</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doCommit</span><wbr><span class="parameters">(<a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</span>
                          throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Perform an actual commit of the given transaction.
 <p>An implementation does not need to check the "new transaction" flag
 or the rollback-only flag; this will already have been handled before.
 Usually, a straight commit will be performed on the transaction object
 contained in the passed-in status.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>status</code> - the status representation of the transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of commit or system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="DefaultTransactionStatus.html#getTransaction()"><code>DefaultTransactionStatus.getTransaction()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doRollback(io.micronaut.transaction.support.DefaultTransactionStatus)">
<h3>doRollback</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doRollback</span><wbr><span class="parameters">(<a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</span>
                            throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Perform an actual rollback of the given transaction.
 <p>An implementation does not need to check the "new transaction" flag;
 this will already have been handled before. Usually, a straight rollback
 will be performed on the transaction object contained in the passed-in status.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>status</code> - the status representation of the transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="DefaultTransactionStatus.html#getTransaction()"><code>DefaultTransactionStatus.getTransaction()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doSetRollbackOnly(io.micronaut.transaction.support.DefaultTransactionStatus)">
<h3>doSetRollbackOnly</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doSetRollbackOnly</span><wbr><span class="parameters">(<a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousStateTransactionManager.html" title="type parameter in AbstractSynchronousStateTransactionManager">T</a>&gt;&nbsp;status)</span>
                          throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Set the given transaction rollback-only. Only called on rollback
 if the current transaction participates in an existing one.
 <p>The default implementation throws an IllegalTransactionStateException,
 assuming that participating in existing transactions is generally not
 supported. Subclasses are of course encouraged to provide such support.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>status</code> - the status representation of the transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of system errors</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerAfterCompletionWithExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,java.util.List)">
<h3>registerAfterCompletionWithExistingTransaction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">registerAfterCompletionWithExistingTransaction</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TransactionSynchronization.html" title="interface in io.micronaut.transaction.support">TransactionSynchronization</a>&gt;&nbsp;synchronizations)</span>
                                                       throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Register the given list of transaction synchronizations with the existing transaction.
 <p>Invoked when the control of the transaction manager and thus all transaction synchronizations end,
 without the transaction being completed yet. This is for example the case when participating in an existing JTA or EJB CMT transaction.
 <p>The default implementation simply invokes the <code>afterCompletion</code> methods
 immediately, passing in "STATUS_UNKNOWN". This is the best we can do if there's no
 chance to determine the actual outcome of the outer transaction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>transaction</code> - transaction object returned by <code>doGetTransaction</code></dd>
<dd><code>synchronizations</code> - a List of TransactionSynchronization objects</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#invokeAfterCompletion(io.micronaut.transaction.support.SynchronousTransactionState,java.util.List,io.micronaut.transaction.support.TransactionSynchronization.Status)"><code>invokeAfterCompletion(SynchronousTransactionState, List, TransactionSynchronization.Status)</code></a></li>
<li><a href="TransactionSynchronization.html#afterCompletion(io.micronaut.transaction.support.TransactionSynchronization.Status)"><code>TransactionSynchronization.afterCompletion(TransactionSynchronization.Status)</code></a></li>
<li><a href="TransactionSynchronization.Status.html#UNKNOWN"><code>TransactionSynchronization.Status.UNKNOWN</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doCleanupAfterCompletion(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">
<h3>doCleanupAfterCompletion</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doCleanupAfterCompletion</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span></div>
<div class="block">Cleanup resources after transaction completion.
 <p>Called after <code>doCommit</code> and <code>doRollback</code> execution,
 on any outcome. The default implementation does nothing.
 <p>Should not throw any exceptions but just issue warnings on errors.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The state</dd>
<dd><code>transaction</code> - transaction object returned by <code>doGetTransaction</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doDestroyState(io.micronaut.transaction.support.SynchronousTransactionState)">
<h3>doDestroyState</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doDestroyState</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state)</span></div>
<div class="block">Destroy the state.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>state</code> - The state</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
