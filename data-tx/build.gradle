plugins {
    id "io.micronaut.build.internal.data-module"
}

dependencies {
    annotationProcessor mn.micronaut.inject.java

    api libs.javax.transaction.api
    api projects.dataConnection

    implementation mn.micronaut.inject
    implementation mn.micronaut.aop

    compileOnly mnReactor.micronaut.reactor
    compileOnly mnSpring.micronaut.spring
    compileOnly mnSql.micronaut.jdbc
    compileOnly mnSpring.spring.jdbc
//    compileOnly mnTest.micronaut.test.core
    compileOnly mnTest.micronaut.test.core
    compileOnly mnTest.micronaut.test.spock
    compileOnly mn.micronaut.core.reactive
    compileOnly mn.jackson.annotations
    compileOnly libs.kotlin.coroutines.reactor

    testAnnotationProcessor mn.micronaut.inject.java
    testAnnotationProcessor projects.dataProcessor

    testImplementation projects.dataProcessor
    testImplementation mn.jackson.databind
    testImplementation mnSql.micronaut.jdbc
    testImplementation mnReactor.micronaut.reactor
    testImplementation mnTest.micronaut.test.junit5

    testRuntimeOnly mnSql.h2
    testRuntimeOnly mnSql.micronaut.jdbc.tomcat

    testImplementation("org.junit.jupiter:junit-jupiter-api")
    testRuntimeOnly("org.junit.jupiter:junit-jupiter-engine")
}

test {
    useJUnitPlatform()
}
