<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>DataSourceTransactionManager (data-parent 3.9.7 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DataSourceTransactionManager (data-parent 3.9.7 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.micronaut.transaction.jdbc</a></div>
<h2 title="Class DataSourceTransactionManager" class="title">Class DataSourceTransactionManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../support/AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../support/AbstractSynchronousTransactionManager.html" title="class in io.micronaut.transaction.support">io.micronaut.transaction.support.AbstractSynchronousTransactionManager</a>&lt;java.sql.Connection&gt;</li>
<li>
<ul class="inheritance">
<li>io.micronaut.transaction.jdbc.DataSourceTransactionManager</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../support/ResourceTransactionManager.html" title="interface in io.micronaut.transaction.support">ResourceTransactionManager</a>&lt;javax.sql.DataSource,&#8203;java.sql.Connection&gt;</code>, <code><a href="../support/TransactionStateOperations.html" title="interface in io.micronaut.transaction.support">TransactionStateOperations</a>&lt;java.sql.Connection,&#8203;<a href="../support/SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&gt;</code>, <code><a href="../SynchronousTransactionManager.html" title="interface in io.micronaut.transaction">SynchronousTransactionManager</a>&lt;java.sql.Connection&gt;</code>, <code><a href="../TransactionManager.html" title="interface in io.micronaut.transaction">TransactionManager</a></code>, <code><a href="../TransactionOperations.html" title="interface in io.micronaut.transaction">TransactionOperations</a>&lt;java.sql.Connection&gt;</code>, <code>java.io.Serializable</code></dd>
</dl>
<hr>
<pre>@EachBean(javax.sql.DataSource.class)
public class <span class="typeNameLabel">DataSourceTransactionManager</span>
extends <a href="../support/AbstractSynchronousTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager</a>&lt;java.sql.Connection&gt;
implements <a href="../support/ResourceTransactionManager.html" title="interface in io.micronaut.transaction.support">ResourceTransactionManager</a>&lt;javax.sql.DataSource,&#8203;java.sql.Connection&gt;</pre>
<div class="block">NOTICE: This is a fork of Spring's <code>PlatformTransactionManager</code> modernizing it
 to use enums, Slf4j and decoupling from Spring.

 <a href="../SynchronousTransactionManager.html" title="interface in io.micronaut.transaction"><code>SynchronousTransactionManager</code></a>
 implementation for a single JDBC <code>DataSource</code>. This class is
 capable of working in any environment with any JDBC driver, as long as the setup
 uses a <code>javax.sql.DataSource</code> as its <code>Connection</code> factory mechanism.
 Binds a JDBC Connection from the specified DataSource to the current thread,
 potentially allowing for one thread-bound Connection per DataSource.

 <p><b>Note: The DataSource that this transaction manager operates on needs
 to return independent Connections.</b> The Connections may come from a pool
 (the typical case), but the DataSource must not return thread-scoped /
 request-scoped Connections or the like. This transaction manager will
 associate Connections with thread-bound transactions itself, according
 to the specified propagation behavior. It assumes that a separate,
 independent Connection can be obtained even during an ongoing transaction.

 <p>Application code is required to retrieve the JDBC Connection via
 <a href="DataSourceUtils.html#getConnection(javax.sql.DataSource)"><code>DataSourceUtils.getConnection(DataSource)</code></a> instead of a standard
 Java EE-style <code>DataSource.getConnection()</code> call.
 If not used in combination with this transaction manager, the
 <a href="DataSourceUtils.html" title="class in io.micronaut.transaction.jdbc"><code>DataSourceUtils</code></a> lookup strategy behaves exactly like the native
 DataSource lookup; it can thus be used in a portable fashion.

 <p>Alternatively, you can allow application code to work with the standard
 Java EE-style lookup pattern <code>DataSource.getConnection()</code>.

 <p>This transaction manager supports nested transactions via the JDBC 3.0
 <code>Savepoint</code> mechanism. The
 <a href="../support/AbstractSynchronousStateTransactionManager.html#setNestedTransactionAllowed(boolean)"><code>"nestedTransactionAllowed"</code></a> flag defaults
 to "true", since nested transactions will work without restrictions on JDBC
 drivers that support savepoints (such as the Oracle JDBC driver).


 <p>As of 4.3.4, this transaction manager triggers flush callbacks on registered
 transaction synchronizations (if synchronization is generally active), assuming
 resources operating on the underlying JDBC <code>Connection</code>. This allows for
 setup analogous to <code>JtaTransactionManager</code>, in particular with respect to
 lazily registered ORM resources (e.g. a Hibernate <code>Session</code>).</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>02.05.2003</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Juergen Hoeller, graemerocher</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../support/AbstractSynchronousStateTransactionManager.html#setNestedTransactionAllowed(boolean)"><code>AbstractSynchronousStateTransactionManager.setNestedTransactionAllowed(boolean)</code></a>, 
<code>Savepoint</code>, 
<a href="DataSourceUtils.html#getConnection(javax.sql.DataSource)"><code>DataSourceUtils.getConnection(javax.sql.DataSource)</code></a>, 
<a href="DataSourceUtils.html#applyTransactionTimeout(java.sql.Statement,javax.sql.DataSource)"><code>DataSourceUtils.applyTransactionTimeout(java.sql.Statement, javax.sql.DataSource)</code></a>, 
<a href="DataSourceUtils.html#releaseConnection(java.sql.Connection,javax.sql.DataSource)"><code>DataSourceUtils.releaseConnection(java.sql.Connection, javax.sql.DataSource)</code></a>, 
<a href="../../../../serialized-form.html#io.micronaut.transaction.jdbc.DataSourceTransactionManager">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.io.micronaut.transaction.support.AbstractSynchronousTransactionManager">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;io.micronaut.transaction.support.<a href="../support/AbstractSynchronousTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager</a></h3>
<code><a href="../support/AbstractSynchronousTransactionManager.SuspendedResourcesHolder.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager.SuspendedResourcesHolder</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;io.micronaut.transaction.support.<a href="../support/AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a></h3>
<code><a href="../support/AbstractSynchronousStateTransactionManager.html#logger">logger</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(javax.sql.DataSource)">DataSourceTransactionManager</a></span>&#8203;(javax.sql.DataSource&nbsp;dataSource)</code></th>
<td class="colLast">
<div class="block">Create a new DataSourceTransactionManager instance.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doBegin(java.lang.Object,io.micronaut.transaction.TransactionDefinition)">doBegin</a></span>&#8203;(java.lang.Object&nbsp;transaction,
       <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</code></th>
<td class="colLast">
<div class="block">This implementation sets the isolation level but ignores the timeout.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doCleanupAfterCompletion(java.lang.Object)">doCleanupAfterCompletion</a></span>&#8203;(java.lang.Object&nbsp;transaction)</code></th>
<td class="colLast">
<div class="block">Cleanup resources after transaction completion.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)">doCommit</a></span>&#8203;(<a href="../support/DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&nbsp;status)</code></th>
<td class="colLast">
<div class="block">Perform an actual commit of the given transaction.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doGetTransaction()">doGetTransaction</a></span>()</code></th>
<td class="colLast">
<div class="block">Return a transaction object for the current transaction state.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doResume(java.lang.Object,java.lang.Object)">doResume</a></span>&#8203;(java.lang.Object&nbsp;transaction,
        java.lang.Object&nbsp;suspendedResources)</code></th>
<td class="colLast">
<div class="block">Resume the resources of the current transaction.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doRollback(io.micronaut.transaction.support.DefaultTransactionStatus)">doRollback</a></span>&#8203;(<a href="../support/DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&nbsp;status)</code></th>
<td class="colLast">
<div class="block">Perform an actual rollback of the given transaction.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doSetRollbackOnly(io.micronaut.transaction.support.DefaultTransactionStatus)">doSetRollbackOnly</a></span>&#8203;(<a href="../support/DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&nbsp;status)</code></th>
<td class="colLast">
<div class="block">Set the given transaction rollback-only.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doSuspend(java.lang.Object)">doSuspend</a></span>&#8203;(java.lang.Object&nbsp;transaction)</code></th>
<td class="colLast">
<div class="block">Suspend the resources of the current transaction.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.sql.Connection</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConnection()">getConnection</a></span>()</code></th>
<td class="colLast">
<div class="block">Obtains the connection for the current transaction.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected java.sql.Connection</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConnection(java.lang.Object)">getConnection</a></span>&#8203;(java.lang.Object&nbsp;transaction)</code></th>
<td class="colLast">
<div class="block">The connection for the given transaction object.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>javax.sql.DataSource</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDataSource()">getDataSource</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>javax.sql.DataSource</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getResourceFactory()">getResourceFactory</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the resource factory that this transaction manager operates on,
 e.g.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTransactionStateKey()">getTransactionStateKey</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the transaction state key that should be used to store the state.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasConnection()">hasConnection</a></span>()</code></th>
<td class="colLast">
<div class="block">Check if the connection exists.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEnforceReadOnly()">isEnforceReadOnly</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isExistingTransaction(java.lang.Object)">isExistingTransaction</a></span>&#8203;(java.lang.Object&nbsp;transaction)</code></th>
<td class="colLast">
<div class="block">Check if the given transaction object indicates an existing transaction
 (that is, a transaction which has already started).</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#prepareTransactionalConnection(java.sql.Connection,io.micronaut.transaction.TransactionDefinition)">prepareTransactionalConnection</a></span>&#8203;(java.sql.Connection&nbsp;con,
                              <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</code></th>
<td class="colLast">
<div class="block">Prepare the transactional <code>Connection</code> right after transaction begin.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setEnforceReadOnly(boolean)">setEnforceReadOnly</a></span>&#8203;(boolean&nbsp;enforceReadOnly)</code></th>
<td class="colLast">
<div class="block">Specify whether to enforce the read-only nature of a transaction
 (as indicated by <a href="../TransactionDefinition.html#isReadOnly()"><code>TransactionDefinition.isReadOnly()</code></a>
 through an explicit statement on the transactional connection:
 "SET TRANSACTION READ ONLY" as understood by Oracle, MySQL and Postgres.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.io.micronaut.transaction.support.AbstractSynchronousTransactionManager">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.micronaut.transaction.support.<a href="../support/AbstractSynchronousTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager</a></h3>
<code><a href="../support/AbstractSynchronousTransactionManager.html#commit(io.micronaut.transaction.TransactionStatus)">commit</a>, <a href="../support/AbstractSynchronousTransactionManager.html#doCleanupAfterCompletion(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">doCleanupAfterCompletion</a>, <a href="../support/AbstractSynchronousTransactionManager.html#doDestroyState(io.micronaut.transaction.support.SynchronousTransactionState)">doDestroyState</a>, <a href="../support/AbstractSynchronousTransactionManager.html#doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)">doGetTransaction</a>, <a href="../support/AbstractSynchronousTransactionManager.html#execute(io.micronaut.transaction.TransactionDefinition,io.micronaut.transaction.TransactionCallback)">execute</a>, <a href="../support/AbstractSynchronousTransactionManager.html#executeRead(io.micronaut.transaction.TransactionCallback)">executeRead</a>, <a href="../support/AbstractSynchronousTransactionManager.html#executeWrite(io.micronaut.transaction.TransactionCallback)">executeWrite</a>, <a href="../support/AbstractSynchronousTransactionManager.html#find()">find</a>, <a href="../support/AbstractSynchronousTransactionManager.html#findOrCreateState()">findOrCreateState</a>, <a href="../support/AbstractSynchronousTransactionManager.html#getConnection(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">getConnection</a>, <a href="../support/AbstractSynchronousTransactionManager.html#getState()">getState</a>, <a href="../support/AbstractSynchronousTransactionManager.html#getTransaction(io.micronaut.transaction.TransactionDefinition)">getTransaction</a>, <a href="../support/AbstractSynchronousTransactionManager.html#invokeAfterCompletion(java.util.List,io.micronaut.transaction.support.TransactionSynchronization.Status)">invokeAfterCompletion</a>, <a href="../support/AbstractSynchronousTransactionManager.html#isExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">isExistingTransaction</a>, <a href="../support/AbstractSynchronousTransactionManager.html#newTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)">newTransactionStatus</a>, <a href="../support/AbstractSynchronousTransactionManager.html#newTransactionStatus(io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)">newTransactionStatus</a>, <a href="../support/AbstractSynchronousTransactionManager.html#prepareSynchronization(io.micronaut.transaction.support.DefaultTransactionStatus,io.micronaut.transaction.TransactionDefinition)">prepareSynchronization</a>, <a href="../support/AbstractSynchronousTransactionManager.html#prepareSynchronization(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus,io.micronaut.transaction.TransactionDefinition)">prepareSynchronization</a>, <a href="../support/AbstractSynchronousTransactionManager.html#prepareTransactionStatus(io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)">prepareTransactionStatus</a>, <a href="../support/AbstractSynchronousTransactionManager.html#registerAfterCompletionWithExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,java.util.List)">registerAfterCompletionWithExistingTransaction</a>, <a href="../support/AbstractSynchronousTransactionManager.html#registerAfterCompletionWithExistingTransaction(java.lang.Object,java.util.List)">registerAfterCompletionWithExistingTransaction</a>, <a href="../support/AbstractSynchronousTransactionManager.html#resume(java.lang.Object,io.micronaut.transaction.support.AbstractSynchronousTransactionManager.SuspendedResourcesHolder)">resume</a>, <a href="../support/AbstractSynchronousTransactionManager.html#rollback(io.micronaut.transaction.TransactionStatus)">rollback</a>, <a href="../support/AbstractSynchronousTransactionManager.html#suspend(java.lang.Object)">suspend</a>, <a href="../support/AbstractSynchronousTransactionManager.html#triggerBeforeCommit(io.micronaut.transaction.support.DefaultTransactionStatus)">triggerBeforeCommit</a>, <a href="../support/AbstractSynchronousTransactionManager.html#triggerBeforeCompletion(io.micronaut.transaction.support.DefaultTransactionStatus)">triggerBeforeCompletion</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.micronaut.transaction.support.<a href="../support/AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a></h3>
<code><a href="../support/AbstractSynchronousStateTransactionManager.html#commit(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionStatus)">commit</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#determineTimeout(io.micronaut.transaction.TransactionDefinition)">determineTimeout</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#execute(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,io.micronaut.transaction.TransactionCallback)">execute</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#executeRead(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionCallback)">executeRead</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#executeWrite(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionCallback)">executeWrite</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#getDefaultTimeout()">getDefaultTimeout</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#getTransaction(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition)">getTransaction</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#getTransactionSynchronization()">getTransactionSynchronization</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#invokeAfterCompletion(io.micronaut.transaction.support.SynchronousTransactionState,java.util.List,io.micronaut.transaction.support.TransactionSynchronization.Status)">invokeAfterCompletion</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#isFailEarlyOnGlobalRollbackOnly()">isFailEarlyOnGlobalRollbackOnly</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#isGlobalRollbackOnParticipationFailure()">isGlobalRollbackOnParticipationFailure</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#isNestedTransactionAllowed()">isNestedTransactionAllowed</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#isRollbackOnCommitFailure()">isRollbackOnCommitFailure</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#isValidateExistingTransaction()">isValidateExistingTransaction</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#prepareForCommit(io.micronaut.transaction.support.DefaultTransactionStatus)">prepareForCommit</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#prepareTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)">prepareTransactionStatus</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#resume(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder)">resume</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#rollback(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionStatus)">rollback</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#setDefaultTimeout(java.time.Duration)">setDefaultTimeout</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#setFailEarlyOnGlobalRollbackOnly(boolean)">setFailEarlyOnGlobalRollbackOnly</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#setGlobalRollbackOnParticipationFailure(boolean)">setGlobalRollbackOnParticipationFailure</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#setNestedTransactionAllowed(boolean)">setNestedTransactionAllowed</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#setRollbackOnCommitFailure(boolean)">setRollbackOnCommitFailure</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#setTransactionSynchronization(io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.Synchronization)">setTransactionSynchronization</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#setValidateExistingTransaction(boolean)">setValidateExistingTransaction</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#shouldCommitOnGlobalRollbackOnly()">shouldCommitOnGlobalRollbackOnly</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#suspend(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">suspend</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#triggerBeforeCommit(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus)">triggerBeforeCommit</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#triggerBeforeCompletion(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus)">triggerBeforeCompletion</a>, <a href="../support/AbstractSynchronousStateTransactionManager.html#useSavepointForNestedTransaction()">useSavepointForNestedTransaction</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.io.micronaut.transaction.SynchronousTransactionManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;io.micronaut.transaction.<a href="../SynchronousTransactionManager.html" title="interface in io.micronaut.transaction">SynchronousTransactionManager</a></h3>
<code><a href="../SynchronousTransactionManager.html#commit(io.micronaut.transaction.TransactionStatus)">commit</a>, <a href="../SynchronousTransactionManager.html#getTransaction(io.micronaut.transaction.TransactionDefinition)">getTransaction</a>, <a href="../SynchronousTransactionManager.html#rollback(io.micronaut.transaction.TransactionStatus)">rollback</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.io.micronaut.transaction.TransactionOperations">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;io.micronaut.transaction.<a href="../TransactionOperations.html" title="interface in io.micronaut.transaction">TransactionOperations</a></h3>
<code><a href="../TransactionOperations.html#execute(io.micronaut.transaction.TransactionDefinition,io.micronaut.transaction.TransactionCallback)">execute</a>, <a href="../TransactionOperations.html#executeRead(io.micronaut.transaction.TransactionCallback)">executeRead</a>, <a href="../TransactionOperations.html#executeWrite(io.micronaut.transaction.TransactionCallback)">executeWrite</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(javax.sql.DataSource)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DataSourceTransactionManager</h4>
<pre>public&nbsp;DataSourceTransactionManager&#8203;(@NonNull
                                    javax.sql.DataSource&nbsp;dataSource)</pre>
<div class="block">Create a new DataSourceTransactionManager instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataSource</code> - the JDBC DataSource to manage transactions for</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getTransactionStateKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionStateKey</h4>
<pre class="methodSignature">@NonNull
protected&nbsp;java.lang.Object&nbsp;getTransactionStateKey()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../support/AbstractSynchronousTransactionManager.html#getTransactionStateKey()">AbstractSynchronousTransactionManager</a></code></span></div>
<div class="block">Get the transaction state key that should be used to store the state.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../support/AbstractSynchronousTransactionManager.html#getTransactionStateKey()">getTransactionStateKey</a></code>&nbsp;in class&nbsp;<code><a href="../support/AbstractSynchronousTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager</a>&lt;java.sql.Connection&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The key</dd>
</dl>
</li>
</ul>
<a id="getDataSource()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataSource</h4>
<pre class="methodSignature">@NonNull
public&nbsp;javax.sql.DataSource&nbsp;getDataSource()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Return the JDBC DataSource that this instance manages transactions for.</dd>
</dl>
</li>
</ul>
<a id="setEnforceReadOnly(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEnforceReadOnly</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setEnforceReadOnly&#8203;(boolean&nbsp;enforceReadOnly)</pre>
<div class="block">Specify whether to enforce the read-only nature of a transaction
 (as indicated by <a href="../TransactionDefinition.html#isReadOnly()"><code>TransactionDefinition.isReadOnly()</code></a>
 through an explicit statement on the transactional connection:
 "SET TRANSACTION READ ONLY" as understood by Oracle, MySQL and Postgres.
 <p>The exact treatment, including any SQL statement executed on the connection,
 can be customized through through <a href="#prepareTransactionalConnection(java.sql.Connection,io.micronaut.transaction.TransactionDefinition)"><code>prepareTransactionalConnection(java.sql.Connection, io.micronaut.transaction.TransactionDefinition)</code></a>.
 <p>This mode of read-only handling goes beyond the <code>Connection.setReadOnly(boolean)</code>
 hint that Spring applies by default. In contrast to that standard JDBC hint,
 "SET TRANSACTION READ ONLY" enforces an isolation-level-like connection mode
 where data manipulation statements are strictly disallowed. Also, on Oracle,
 this read-only mode provides read consistency for the entire transaction.
 <p>Note that older Oracle JDBC drivers (9i, 10g) used to enforce this read-only
 mode even for <code>Connection.setReadOnly(true</code>. However, with recent drivers,
 this strong enforcement needs to be applied explicitly, e.g. through this flag.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>enforceReadOnly</code> - True if read-only should be enforced</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>4.3.7</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#prepareTransactionalConnection(java.sql.Connection,io.micronaut.transaction.TransactionDefinition)"><code>prepareTransactionalConnection(java.sql.Connection, io.micronaut.transaction.TransactionDefinition)</code></a></dd>
</dl>
</li>
</ul>
<a id="isEnforceReadOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEnforceReadOnly</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isEnforceReadOnly()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Return whether to enforce the read-only nature of a transaction
 through an explicit statement on the transactional connection.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>4.3.7</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#setEnforceReadOnly(boolean)"><code>setEnforceReadOnly(boolean)</code></a></dd>
</dl>
</li>
</ul>
<a id="getResourceFactory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResourceFactory</h4>
<pre class="methodSignature">public&nbsp;javax.sql.DataSource&nbsp;getResourceFactory()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../support/ResourceTransactionManager.html#getResourceFactory()">ResourceTransactionManager</a></code></span></div>
<div class="block">Return the resource factory that this transaction manager operates on,
 e.g. a JDBC DataSource or a JMS ConnectionFactory.
 <p>This target resource factory is usually used as resource key for
 <a href="../support/TransactionSynchronizationManager.html" title="class in io.micronaut.transaction.support"><code>TransactionSynchronizationManager</code></a>'s resource bindings per thread.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../support/ResourceTransactionManager.html#getResourceFactory()">getResourceFactory</a></code>&nbsp;in interface&nbsp;<code><a href="../support/ResourceTransactionManager.html" title="interface in io.micronaut.transaction.support">ResourceTransactionManager</a>&lt;javax.sql.DataSource,&#8203;java.sql.Connection&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the target resource factory (never <code>null</code>)</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../support/TransactionSynchronizationManager.html#bindResource(java.lang.Object,java.lang.Object)"><code>TransactionSynchronizationManager.bindResource(java.lang.Object, java.lang.Object)</code></a>, 
<a href="../support/TransactionSynchronizationManager.html#getResource(java.lang.Object)"><code>TransactionSynchronizationManager.getResource(java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a id="getConnection(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnection</h4>
<pre class="methodSignature">protected&nbsp;java.sql.Connection&nbsp;getConnection&#8203;(java.lang.Object&nbsp;transaction)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../support/AbstractSynchronousTransactionManager.html#getConnection(java.lang.Object)">AbstractSynchronousTransactionManager</a></code></span></div>
<div class="block">The connection for the given transaction object.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../support/AbstractSynchronousTransactionManager.html#getConnection(java.lang.Object)">getConnection</a></code>&nbsp;in class&nbsp;<code><a href="../support/AbstractSynchronousTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager</a>&lt;java.sql.Connection&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - The transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The connection.</dd>
</dl>
</li>
</ul>
<a id="hasConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasConnection</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;hasConnection()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../TransactionOperations.html#hasConnection()">TransactionOperations</a></code></span></div>
<div class="block">Check if the connection exists.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../TransactionOperations.html#hasConnection()">hasConnection</a></code>&nbsp;in interface&nbsp;<code><a href="../TransactionOperations.html" title="interface in io.micronaut.transaction">TransactionOperations</a>&lt;java.sql.Connection&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if transaction exists</dd>
</dl>
</li>
</ul>
<a id="doGetTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doGetTransaction</h4>
<pre class="methodSignature">protected&nbsp;java.lang.Object&nbsp;doGetTransaction()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../support/AbstractSynchronousTransactionManager.html#doGetTransaction()">AbstractSynchronousTransactionManager</a></code></span></div>
<div class="block">Return a transaction object for the current transaction state.
 <p>The returned object will usually be specific to the concrete transaction
 manager implementation, carrying corresponding transaction state in a
 modifiable fashion. This object will be passed into the other template
 methods (e.g. doBegin and doCommit), either directly or as part of a
 DefaultTransactionStatus instance.
 <p>The returned object should contain information about any existing
 transaction, that is, a transaction that has already started before the
 current <code>getTransaction</code> call on the transaction manager.
 Consequently, a <code>doGetTransaction</code> implementation will usually
 look for an existing transaction and store corresponding state in the
 returned transaction object.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../support/AbstractSynchronousTransactionManager.html#doGetTransaction()">doGetTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../support/AbstractSynchronousTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager</a>&lt;java.sql.Connection&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current transaction object</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../support/AbstractSynchronousStateTransactionManager.html#doBegin(java.lang.Object,io.micronaut.transaction.TransactionDefinition)"><code>AbstractSynchronousStateTransactionManager.doBegin(java.lang.Object, io.micronaut.transaction.TransactionDefinition)</code></a>, 
<a href="../support/AbstractSynchronousStateTransactionManager.html#doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>AbstractSynchronousStateTransactionManager.doCommit(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a>, 
<a href="../support/AbstractSynchronousStateTransactionManager.html#doRollback(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>AbstractSynchronousStateTransactionManager.doRollback(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a>, 
<a href="../support/DefaultTransactionStatus.html#getTransaction()"><code>DefaultTransactionStatus.getTransaction()</code></a></dd>
</dl>
</li>
</ul>
<a id="isExistingTransaction(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExistingTransaction</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;isExistingTransaction&#8203;(java.lang.Object&nbsp;transaction)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../support/AbstractSynchronousTransactionManager.html#isExistingTransaction(java.lang.Object)">AbstractSynchronousTransactionManager</a></code></span></div>
<div class="block">Check if the given transaction object indicates an existing transaction
 (that is, a transaction which has already started).
 <p>The result will be evaluated according to the specified propagation
 behavior for the new transaction. An existing transaction might get
 suspended (in case of PROPAGATION_REQUIRES_NEW), or the new transaction
 might participate in the existing one (in case of PROPAGATION_REQUIRED).
 <p>The default implementation returns <code>false</code>, assuming that
 participating in existing transactions is generally not supported.
 Subclasses are of course encouraged to provide such support.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../support/AbstractSynchronousTransactionManager.html#isExistingTransaction(java.lang.Object)">isExistingTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../support/AbstractSynchronousTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager</a>&lt;java.sql.Connection&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - transaction object returned by doGetTransaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if there is an existing transaction</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../support/AbstractSynchronousTransactionManager.html#doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)"><code>AbstractSynchronousTransactionManager.doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)</code></a></dd>
</dl>
</li>
</ul>
<a id="doBegin(java.lang.Object,io.micronaut.transaction.TransactionDefinition)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doBegin</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;doBegin&#8203;(java.lang.Object&nbsp;transaction,
                       <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</pre>
<div class="block">This implementation sets the isolation level but ignores the timeout.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../support/AbstractSynchronousStateTransactionManager.html#doBegin(java.lang.Object,io.micronaut.transaction.TransactionDefinition)">doBegin</a></code>&nbsp;in class&nbsp;<code><a href="../support/AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;java.sql.Connection&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - transaction object returned by <code>doGetTransaction</code></dd>
<dd><code>definition</code> - a TransactionDefinition instance, describing propagation
                    behavior, isolation level, read-only flag, timeout, and transaction name</dd>
</dl>
</li>
</ul>
<a id="doSuspend(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSuspend</h4>
<pre class="methodSignature">protected&nbsp;java.lang.Object&nbsp;doSuspend&#8203;(java.lang.Object&nbsp;transaction)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../support/AbstractSynchronousStateTransactionManager.html#doSuspend(java.lang.Object)">AbstractSynchronousStateTransactionManager</a></code></span></div>
<div class="block">Suspend the resources of the current transaction.
 Transaction synchronization will already have been suspended.
 <p>The default implementation throws a TransactionSuspensionNotSupportedException,
 assuming that transaction suspension is generally not supported.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../support/AbstractSynchronousStateTransactionManager.html#doSuspend(java.lang.Object)">doSuspend</a></code>&nbsp;in class&nbsp;<code><a href="../support/AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;java.sql.Connection&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - transaction object returned by <code>doGetTransaction</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an object that holds suspended resources
 (will be kept unexamined for passing it into doResume)</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../support/AbstractSynchronousStateTransactionManager.html#doResume(java.lang.Object,java.lang.Object)"><code>AbstractSynchronousStateTransactionManager.doResume(java.lang.Object, java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a id="doResume(java.lang.Object,java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doResume</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;doResume&#8203;(@Nullable
                        java.lang.Object&nbsp;transaction,
                        java.lang.Object&nbsp;suspendedResources)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../support/AbstractSynchronousStateTransactionManager.html#doResume(java.lang.Object,java.lang.Object)">AbstractSynchronousStateTransactionManager</a></code></span></div>
<div class="block">Resume the resources of the current transaction.
 Transaction synchronization will be resumed afterwards.
 <p>The default implementation throws a TransactionSuspensionNotSupportedException,
 assuming that transaction suspension is generally not supported.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../support/AbstractSynchronousStateTransactionManager.html#doResume(java.lang.Object,java.lang.Object)">doResume</a></code>&nbsp;in class&nbsp;<code><a href="../support/AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;java.sql.Connection&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - transaction object returned by <code>doGetTransaction</code></dd>
<dd><code>suspendedResources</code> - the object that holds suspended resources,
                           as returned by doSuspend</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../support/AbstractSynchronousStateTransactionManager.html#doSuspend(java.lang.Object)"><code>AbstractSynchronousStateTransactionManager.doSuspend(java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a id="doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doCommit</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;doCommit&#8203;(<a href="../support/DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&nbsp;status)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../support/AbstractSynchronousStateTransactionManager.html#doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)">AbstractSynchronousStateTransactionManager</a></code></span></div>
<div class="block">Perform an actual commit of the given transaction.
 <p>An implementation does not need to check the "new transaction" flag
 or the rollback-only flag; this will already have been handled before.
 Usually, a straight commit will be performed on the transaction object
 contained in the passed-in status.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../support/AbstractSynchronousStateTransactionManager.html#doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)">doCommit</a></code>&nbsp;in class&nbsp;<code><a href="../support/AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;java.sql.Connection&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>status</code> - the status representation of the transaction</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../support/DefaultTransactionStatus.html#getTransaction()"><code>DefaultTransactionStatus.getTransaction()</code></a></dd>
</dl>
</li>
</ul>
<a id="doRollback(io.micronaut.transaction.support.DefaultTransactionStatus)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doRollback</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;doRollback&#8203;(<a href="../support/DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&nbsp;status)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../support/AbstractSynchronousStateTransactionManager.html#doRollback(io.micronaut.transaction.support.DefaultTransactionStatus)">AbstractSynchronousStateTransactionManager</a></code></span></div>
<div class="block">Perform an actual rollback of the given transaction.
 <p>An implementation does not need to check the "new transaction" flag;
 this will already have been handled before. Usually, a straight rollback
 will be performed on the transaction object contained in the passed-in status.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../support/AbstractSynchronousStateTransactionManager.html#doRollback(io.micronaut.transaction.support.DefaultTransactionStatus)">doRollback</a></code>&nbsp;in class&nbsp;<code><a href="../support/AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;java.sql.Connection&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>status</code> - the status representation of the transaction</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../support/DefaultTransactionStatus.html#getTransaction()"><code>DefaultTransactionStatus.getTransaction()</code></a></dd>
</dl>
</li>
</ul>
<a id="doSetRollbackOnly(io.micronaut.transaction.support.DefaultTransactionStatus)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSetRollbackOnly</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;doSetRollbackOnly&#8203;(<a href="../support/DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&nbsp;status)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../support/AbstractSynchronousStateTransactionManager.html#doSetRollbackOnly(io.micronaut.transaction.support.DefaultTransactionStatus)">AbstractSynchronousStateTransactionManager</a></code></span></div>
<div class="block">Set the given transaction rollback-only. Only called on rollback
 if the current transaction participates in an existing one.
 <p>The default implementation throws an IllegalTransactionStateException,
 assuming that participating in existing transactions is generally not
 supported. Subclasses are of course encouraged to provide such support.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../support/AbstractSynchronousStateTransactionManager.html#doSetRollbackOnly(io.micronaut.transaction.support.DefaultTransactionStatus)">doSetRollbackOnly</a></code>&nbsp;in class&nbsp;<code><a href="../support/AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;java.sql.Connection&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>status</code> - the status representation of the transaction</dd>
</dl>
</li>
</ul>
<a id="doCleanupAfterCompletion(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doCleanupAfterCompletion</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;doCleanupAfterCompletion&#8203;(java.lang.Object&nbsp;transaction)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../support/AbstractSynchronousTransactionManager.html#doCleanupAfterCompletion(java.lang.Object)">AbstractSynchronousTransactionManager</a></code></span></div>
<div class="block">Cleanup resources after transaction completion.
 <p>Called after <code>doCommit</code> and <code>doRollback</code> execution,
 on any outcome. The default implementation does nothing.
 <p>Should not throw any exceptions but just issue warnings on errors.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../support/AbstractSynchronousTransactionManager.html#doCleanupAfterCompletion(java.lang.Object)">doCleanupAfterCompletion</a></code>&nbsp;in class&nbsp;<code><a href="../support/AbstractSynchronousTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager</a>&lt;java.sql.Connection&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - transaction object returned by <code>doGetTransaction</code></dd>
</dl>
</li>
</ul>
<a id="prepareTransactionalConnection(java.sql.Connection,io.micronaut.transaction.TransactionDefinition)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareTransactionalConnection</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;prepareTransactionalConnection&#8203;(java.sql.Connection&nbsp;con,
                                              <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)
                                       throws java.sql.SQLException</pre>
<div class="block">Prepare the transactional <code>Connection</code> right after transaction begin.
 <p>The default implementation executes a "SET TRANSACTION READ ONLY" statement
 if the <a href="#setEnforceReadOnly(boolean)"><code>"enforceReadOnly"</code></a> flag is set to <code>true</code>
 and the transaction definition indicates a read-only transaction.
 <p>The "SET TRANSACTION READ ONLY" is understood by Oracle, MySQL and Postgres
 and may work with other databases as well. If you'd like to adapt this treatment,
 override this method accordingly.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>con</code> - the transactional JDBC Connection</dd>
<dd><code>definition</code> - the current transaction definition</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - if thrown by JDBC API</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>4.3.7</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#setEnforceReadOnly(boolean)"><code>setEnforceReadOnly(boolean)</code></a></dd>
</dl>
</li>
</ul>
<a id="getConnection()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getConnection</h4>
<pre class="methodSignature">@NonNull
public&nbsp;java.sql.Connection&nbsp;getConnection()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../TransactionOperations.html#getConnection()">TransactionOperations</a></code></span></div>
<div class="block">Obtains the connection for the current transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../TransactionOperations.html#getConnection()">getConnection</a></code>&nbsp;in interface&nbsp;<code><a href="../TransactionOperations.html" title="interface in io.micronaut.transaction">TransactionOperations</a>&lt;java.sql.Connection&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The connection</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
