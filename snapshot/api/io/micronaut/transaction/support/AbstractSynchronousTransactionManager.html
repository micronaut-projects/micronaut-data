<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>AbstractSynchronousTransactionManager (data-parent 4.0.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: io.micronaut.transaction.support, class: AbstractSynchronousTransactionManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.micronaut.transaction.support</a></div>
<h1 title="Class AbstractSynchronousTransactionManager" class="title">Class AbstractSynchronousTransactionManager&lt;T&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager</a>&lt;T&gt;
<div class="inheritance">io.micronaut.transaction.support.AbstractSynchronousTransactionManager&lt;T&gt;</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - The resource type</dd>
</dl>
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="TransactionStateOperations.html" title="interface in io.micronaut.transaction.support">TransactionStateOperations</a>&lt;T,<wbr><a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&gt;</code>, <code><a href="../SynchronousTransactionManager.html" title="interface in io.micronaut.transaction">SynchronousTransactionManager</a>&lt;T&gt;</code>, <code><a href="../TransactionManager.html" title="interface in io.micronaut.transaction">TransactionManager</a></code>, <code><a href="../TransactionOperations.html" title="interface in io.micronaut.transaction">TransactionOperations</a>&lt;T&gt;</code>, <code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="../jdbc/DataSourceTransactionManager.html" title="class in io.micronaut.transaction.jdbc">DataSourceTransactionManager</a></code>, <code><a href="../hibernate5/HibernateTransactionManager.html" title="class in io.micronaut.transaction.hibernate5">HibernateTransactionManager</a></code>, <code><a href="../hibernate6/HibernateTransactionManager.html" title="class in io.micronaut.transaction.hibernate6">HibernateTransactionManager</a></code>, <code><a href="../../data/mongodb/transaction/MongoSynchronousTransactionManagerImpl.html" title="class in io.micronaut.data.mongodb.transaction">MongoSynchronousTransactionManagerImpl</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@Internal
</span><span class="modifiers">public abstract class </span><span class="element-name type-name-label">AbstractSynchronousTransactionManager&lt;T&gt;</span>
<span class="extends-implements">extends <a href="AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;T&gt;
implements <a href="../SynchronousTransactionManager.html" title="interface in io.micronaut.transaction">SynchronousTransactionManager</a>&lt;T&gt;, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></span></div>
<div class="block">NOTICE: This is a fork of Spring's <code>AbstractPlatformTransactionManager</code> modernizing it
 to use enums, Slf4j and decoupling from Spring.

 Abstract base class that implements standard transaction workflow,
 serving as basis for concrete platform transaction managers.

 <p>This base class provides the following workflow handling:
 <ul>
 <li>determines if there is an existing transaction;
 <li>applies the appropriate propagation behavior;
 <li>suspends and resumes transactions if necessary;
 <li>checks the rollback-only flag on commit;
 <li>applies the appropriate modification on rollback
 (actual rollback or setting rollback-only);
 <li>triggers registered synchronization callbacks
 (if transaction synchronization is active).
 </ul>

 <p>Subclasses have to implement specific template methods for specific
 states of a transaction, e.g.: begin, suspend, resume, commit, rollback.
 The most important of them are abstract and must be provided by a concrete
 implementation; for the rest, defaults are provided, so overriding is optional.

 <p>Transaction synchronization is a generic mechanism for registering callbacks
 that get invoked at transaction completion time. This is mainly used internally
 by the data access support classes for JDBC, Hibernate, JPA, etc when running
 within a JTA transaction: They register resources that are opened within the
 transaction for closing at transaction completion time, allowing e.g. for reuse
 of the same Hibernate Session within the transaction. The same mechanism can
 also be leveraged for custom synchronization needs in an application.

 <p>The state of this class is serializable, to allow for serializing the
 transaction strategy along with proxies that carry a transaction interceptor.
 It is up to subclasses if they wish to make their state to be serializable too.
 They should implement the <code>java.io.Serializable</code> marker interface in
 that case, and potentially a private <code>readObject()</code> method (according
 to Java serialization rules) if they need to restore any transient state.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>28.03.2003</dd>
<dt>Author:</dt>
<dd>Juergen Hoeller, graemerocher</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="AbstractSynchronousStateTransactionManager.html#setTransactionSynchronization(io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.Synchronization)"><code>AbstractSynchronousStateTransactionManager.setTransactionSynchronization(io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.Synchronization)</code></a></li>
<li><a href="TransactionSynchronizationManager.html" title="class in io.micronaut.transaction.support"><code>TransactionSynchronizationManager</code></a></li>
<li><a href="../../../../serialized-form.html#io.micronaut.transaction.support.AbstractSynchronousTransactionManager">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected static final class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="AbstractSynchronousTransactionManager.SuspendedResourcesHolder.html" class="type-name-link" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager.SuspendedResourcesHolder</a></code></div>
<div class="col-last even-row-color">
<div class="block">Holder for suspended resources.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager">Fields inherited from class&nbsp;io.micronaut.transaction.support.<a href="AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a></h3>
<code><a href="AbstractSynchronousStateTransactionManager.html#logger">logger</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">AbstractSynchronousTransactionManager</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#commit(io.micronaut.transaction.TransactionStatus)" class="member-name-link">commit</a><wbr>(<a href="../TransactionStatus.html" title="interface in io.micronaut.transaction">TransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;&nbsp;status)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This implementation of commit handles participating in existing
 transactions and programmatic rollback requests.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doCleanupAfterCompletion(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)" class="member-name-link">doCleanupAfterCompletion</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Cleanup resources after transaction completion.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doCleanupAfterCompletion(java.lang.Object)" class="member-name-link">doCleanupAfterCompletion</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Cleanup resources after transaction completion.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doDestroyState(io.micronaut.transaction.support.SynchronousTransactionState)" class="member-name-link">doDestroyState</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Destroy the state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#doGetTransaction()" class="member-name-link">doGetTransaction</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return a transaction object for the current transaction state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)" class="member-name-link">doGetTransaction</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return a transaction object for the current transaction state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;R&gt;&nbsp;R</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#execute(io.micronaut.transaction.TransactionDefinition,io.micronaut.transaction.TransactionCallback)" class="member-name-link">execute</a><wbr>(<a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 <a href="../TransactionCallback.html" title="interface in io.micronaut.transaction">TransactionCallback</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>,<wbr>R&gt;&nbsp;callback)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Execute a transaction within the context of the function.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;R&gt;&nbsp;R</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeRead(io.micronaut.transaction.TransactionCallback)" class="member-name-link">executeRead</a><wbr>(<a href="../TransactionCallback.html" title="interface in io.micronaut.transaction">TransactionCallback</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>,<wbr>R&gt;&nbsp;callback)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Execute a read-only transaction within the context of the function.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;R&gt;&nbsp;R</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeWrite(io.micronaut.transaction.TransactionCallback)" class="member-name-link">executeWrite</a><wbr>(<a href="../TransactionCallback.html" title="interface in io.micronaut.transaction">TransactionCallback</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>,<wbr>R&gt;&nbsp;callback)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Execute a default transaction within the context of the function.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#find()" class="member-name-link">find</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find optional transaction state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findOrCreateState()" class="member-name-link">findOrCreateState</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find or create a new state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConnection(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)" class="member-name-link">getConnection</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The connection for the given transaction object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getConnection(java.lang.Object)" class="member-name-link">getConnection</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">The connection for the given transaction object.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getState()" class="member-name-link">getState</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return required current transaction state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="../TransactionStatus.html" title="interface in io.micronaut.transaction">TransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTransaction(io.micronaut.transaction.TransactionDefinition)" class="member-name-link">getTransaction</a><wbr>(<a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return a currently active transaction or create a new one, according to
 the specified propagation behavior.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTransactionStateKey()" class="member-name-link">getTransactionStateKey</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the transaction state key that should be used to store the state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#invokeAfterCompletion(java.util.List,io.micronaut.transaction.support.TransactionSynchronization.Status)" class="member-name-link">invokeAfterCompletion</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TransactionSynchronization.html" title="interface in io.micronaut.transaction.support">TransactionSynchronization</a>&gt;&nbsp;synchronizations,
 <a href="TransactionSynchronization.Status.html" title="enum class in io.micronaut.transaction.support">TransactionSynchronization.Status</a>&nbsp;completionStatus)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Actually invoke the <code>afterCompletion</code> methods of the
 given Spring TransactionSynchronization objects.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)" class="member-name-link">isExistingTransaction</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if the given transaction object indicates an existing transaction
 (that is, a transaction which has already started).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isExistingTransaction(java.lang.Object)" class="member-name-link">isExistingTransaction</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if the given transaction object indicates an existing transaction
 (that is, a transaction which has already started).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#newTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)" class="member-name-link">newTransactionStatus</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 boolean&nbsp;newTransaction,
 boolean&nbsp;newSynchronization,
 boolean&nbsp;debug,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a TransactionStatus instance for the given arguments.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#newTransactionStatus(io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)" class="member-name-link">newTransactionStatus</a><wbr>(<a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 boolean&nbsp;newTransaction,
 boolean&nbsp;newSynchronization,
 boolean&nbsp;debug,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a TransactionStatus instance for the given arguments.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareSynchronization(io.micronaut.transaction.support.DefaultTransactionStatus,io.micronaut.transaction.TransactionDefinition)" class="member-name-link">prepareSynchronization</a><wbr>(<a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;&nbsp;status,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initialize transaction synchronization as appropriate.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareSynchronization(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus,io.micronaut.transaction.TransactionDefinition)" class="member-name-link">prepareSynchronization</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;&nbsp;status,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initialize transaction synchronization as appropriate.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareTransactionStatus(io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)" class="member-name-link">prepareTransactionStatus</a><wbr>(<a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 boolean&nbsp;newTransaction,
 boolean&nbsp;newSynchronization,
 boolean&nbsp;debug,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new TransactionStatus for the given arguments,
 also initializing transaction synchronization as appropriate.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerAfterCompletionWithExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,java.util.List)" class="member-name-link">registerAfterCompletionWithExistingTransaction</a><wbr>(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TransactionSynchronization.html" title="interface in io.micronaut.transaction.support">TransactionSynchronization</a>&gt;&nbsp;synchronizations)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Register the given list of transaction synchronizations with the existing transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerAfterCompletionWithExistingTransaction(java.lang.Object,java.util.List)" class="member-name-link">registerAfterCompletionWithExistingTransaction</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TransactionSynchronization.html" title="interface in io.micronaut.transaction.support">TransactionSynchronization</a>&gt;&nbsp;synchronizations)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Register the given list of transaction synchronizations with the existing transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resume(java.lang.Object,io.micronaut.transaction.support.AbstractSynchronousTransactionManager.SuspendedResourcesHolder)" class="member-name-link">resume</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="AbstractSynchronousTransactionManager.SuspendedResourcesHolder.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager.SuspendedResourcesHolder</a>&nbsp;resourcesHolder)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Resume the given transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#rollback(io.micronaut.transaction.TransactionStatus)" class="member-name-link">rollback</a><wbr>(<a href="../TransactionStatus.html" title="interface in io.micronaut.transaction">TransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;&nbsp;status)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This implementation of rollback handles participating in existing
 transactions.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final <a href="AbstractSynchronousTransactionManager.SuspendedResourcesHolder.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager.SuspendedResourcesHolder</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#suspend(java.lang.Object)" class="member-name-link">suspend</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Suspend the given transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#triggerBeforeCommit(io.micronaut.transaction.support.DefaultTransactionStatus)" class="member-name-link">triggerBeforeCommit</a><wbr>(<a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;&nbsp;status)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Trigger <code>beforeCommit</code> callbacks.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#triggerBeforeCompletion(io.micronaut.transaction.support.DefaultTransactionStatus)" class="member-name-link">triggerBeforeCompletion</a><wbr>(<a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;&nbsp;status)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Trigger <code>beforeCompletion</code> callbacks.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager">Methods inherited from class&nbsp;io.micronaut.transaction.support.<a href="AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a></h3>
<code><a href="AbstractSynchronousStateTransactionManager.html#commit(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionStatus)">commit</a>, <a href="AbstractSynchronousStateTransactionManager.html#determineTimeout(io.micronaut.transaction.TransactionDefinition)">determineTimeout</a>, <a href="AbstractSynchronousStateTransactionManager.html#doBegin(java.lang.Object,io.micronaut.transaction.TransactionDefinition)">doBegin</a>, <a href="AbstractSynchronousStateTransactionManager.html#doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)">doCommit</a>, <a href="AbstractSynchronousStateTransactionManager.html#doResume(java.lang.Object,java.lang.Object)">doResume</a>, <a href="AbstractSynchronousStateTransactionManager.html#doRollback(io.micronaut.transaction.support.DefaultTransactionStatus)">doRollback</a>, <a href="AbstractSynchronousStateTransactionManager.html#doSetRollbackOnly(io.micronaut.transaction.support.DefaultTransactionStatus)">doSetRollbackOnly</a>, <a href="AbstractSynchronousStateTransactionManager.html#doSuspend(java.lang.Object)">doSuspend</a>, <a href="AbstractSynchronousStateTransactionManager.html#execute(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,io.micronaut.transaction.TransactionCallback)">execute</a>, <a href="AbstractSynchronousStateTransactionManager.html#executeRead(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionCallback)">executeRead</a>, <a href="AbstractSynchronousStateTransactionManager.html#executeWrite(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionCallback)">executeWrite</a>, <a href="AbstractSynchronousStateTransactionManager.html#getDefaultTimeout()">getDefaultTimeout</a>, <a href="AbstractSynchronousStateTransactionManager.html#getTransaction(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition)">getTransaction</a>, <a href="AbstractSynchronousStateTransactionManager.html#getTransactionSynchronization()">getTransactionSynchronization</a>, <a href="AbstractSynchronousStateTransactionManager.html#invokeAfterCompletion(io.micronaut.transaction.support.SynchronousTransactionState,java.util.List,io.micronaut.transaction.support.TransactionSynchronization.Status)">invokeAfterCompletion</a>, <a href="AbstractSynchronousStateTransactionManager.html#isFailEarlyOnGlobalRollbackOnly()">isFailEarlyOnGlobalRollbackOnly</a>, <a href="AbstractSynchronousStateTransactionManager.html#isGlobalRollbackOnParticipationFailure()">isGlobalRollbackOnParticipationFailure</a>, <a href="AbstractSynchronousStateTransactionManager.html#isNestedTransactionAllowed()">isNestedTransactionAllowed</a>, <a href="AbstractSynchronousStateTransactionManager.html#isRollbackOnCommitFailure()">isRollbackOnCommitFailure</a>, <a href="AbstractSynchronousStateTransactionManager.html#isValidateExistingTransaction()">isValidateExistingTransaction</a>, <a href="AbstractSynchronousStateTransactionManager.html#prepareForCommit(io.micronaut.transaction.support.DefaultTransactionStatus)">prepareForCommit</a>, <a href="AbstractSynchronousStateTransactionManager.html#prepareTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)">prepareTransactionStatus</a>, <a href="AbstractSynchronousStateTransactionManager.html#resume(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.SuspendedResourcesHolder)">resume</a>, <a href="AbstractSynchronousStateTransactionManager.html#rollback(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionStatus)">rollback</a>, <a href="AbstractSynchronousStateTransactionManager.html#setDefaultTimeout(java.time.Duration)">setDefaultTimeout</a>, <a href="AbstractSynchronousStateTransactionManager.html#setFailEarlyOnGlobalRollbackOnly(boolean)">setFailEarlyOnGlobalRollbackOnly</a>, <a href="AbstractSynchronousStateTransactionManager.html#setGlobalRollbackOnParticipationFailure(boolean)">setGlobalRollbackOnParticipationFailure</a>, <a href="AbstractSynchronousStateTransactionManager.html#setNestedTransactionAllowed(boolean)">setNestedTransactionAllowed</a>, <a href="AbstractSynchronousStateTransactionManager.html#setRollbackOnCommitFailure(boolean)">setRollbackOnCommitFailure</a>, <a href="AbstractSynchronousStateTransactionManager.html#setTransactionSynchronization(io.micronaut.transaction.support.AbstractSynchronousStateTransactionManager.Synchronization)">setTransactionSynchronization</a>, <a href="AbstractSynchronousStateTransactionManager.html#setValidateExistingTransaction(boolean)">setValidateExistingTransaction</a>, <a href="AbstractSynchronousStateTransactionManager.html#shouldCommitOnGlobalRollbackOnly()">shouldCommitOnGlobalRollbackOnly</a>, <a href="AbstractSynchronousStateTransactionManager.html#suspend(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">suspend</a>, <a href="AbstractSynchronousStateTransactionManager.html#triggerBeforeCommit(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus)">triggerBeforeCommit</a>, <a href="AbstractSynchronousStateTransactionManager.html#triggerBeforeCompletion(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus)">triggerBeforeCompletion</a>, <a href="AbstractSynchronousStateTransactionManager.html#useSavepointForNestedTransaction()">useSavepointForNestedTransaction</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-io.micronaut.transaction.TransactionOperations">Methods inherited from interface&nbsp;io.micronaut.transaction.<a href="../TransactionOperations.html" title="interface in io.micronaut.transaction">TransactionOperations</a></h3>
<code><a href="../TransactionOperations.html#getConnection()">getConnection</a>, <a href="../TransactionOperations.html#hasConnection()">hasConnection</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>AbstractSynchronousTransactionManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">AbstractSynchronousTransactionManager</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getTransactionStateKey()">
<h3>getTransactionStateKey</h3>
<div class="member-signature"><span class="annotations">@NotNull
</span><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">getTransactionStateKey</span>()</div>
<div class="block">Get the transaction state key that should be used to store the state.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The key</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getState()">
<h3>getState</h3>
<div class="member-signature"><span class="annotations">@NonNull
</span><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a></span>&nbsp;<span class="element-name">getState</span>()</div>
<div class="block">Return required current transaction state.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The state</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findOrCreateState()">
<h3>findOrCreateState</h3>
<div class="member-signature"><span class="annotations">@NonNull
</span><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a></span>&nbsp;<span class="element-name">findOrCreateState</span>()</div>
<div class="block">Find or create a new state.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The state</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="find()">
<h3>find</h3>
<div class="member-signature"><span class="annotations">@NonNull
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&gt;</span>&nbsp;<span class="element-name">find</span>()</div>
<div class="block">Find optional transaction state.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The state</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doDestroyState(io.micronaut.transaction.support.SynchronousTransactionState)">
<h3>doDestroyState</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doDestroyState</span><wbr><span class="parameters">(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state)</span></div>
<div class="block">Destroy the state.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="AbstractSynchronousStateTransactionManager.html#doDestroyState(io.micronaut.transaction.support.SynchronousTransactionState)">doDestroyState</a></code>&nbsp;in class&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>state</code> - The state</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="execute(io.micronaut.transaction.TransactionDefinition,io.micronaut.transaction.TransactionCallback)">
<h3>execute</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;R&gt;</span>&nbsp;<span class="return-type">R</span>&nbsp;<span class="element-name">execute</span><wbr><span class="parameters">(@NonNull
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 @NonNull
 <a href="../TransactionCallback.html" title="interface in io.micronaut.transaction">TransactionCallback</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>,<wbr>R&gt;&nbsp;callback)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../TransactionOperations.html#execute(io.micronaut.transaction.TransactionDefinition,io.micronaut.transaction.TransactionCallback)">TransactionOperations</a></code></span></div>
<div class="block">Execute a transaction within the context of the function.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../TransactionOperations.html#execute(io.micronaut.transaction.TransactionDefinition,io.micronaut.transaction.TransactionCallback)">execute</a></code>&nbsp;in interface&nbsp;<code><a href="../TransactionOperations.html" title="interface in io.micronaut.transaction">TransactionOperations</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Type Parameters:</dt>
<dd><code>R</code> - The result</dd>
<dt>Parameters:</dt>
<dd><code>definition</code> - The transaction definition</dd>
<dd><code>callback</code> - The call back</dd>
<dt>Returns:</dt>
<dd>The result</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="executeRead(io.micronaut.transaction.TransactionCallback)">
<h3>executeRead</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;R&gt;</span>&nbsp;<span class="return-type">R</span>&nbsp;<span class="element-name">executeRead</span><wbr><span class="parameters">(@NonNull
 <a href="../TransactionCallback.html" title="interface in io.micronaut.transaction">TransactionCallback</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>,<wbr>R&gt;&nbsp;callback)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../TransactionOperations.html#executeRead(io.micronaut.transaction.TransactionCallback)">TransactionOperations</a></code></span></div>
<div class="block">Execute a read-only transaction within the context of the function.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../TransactionOperations.html#executeRead(io.micronaut.transaction.TransactionCallback)">executeRead</a></code>&nbsp;in interface&nbsp;<code><a href="../TransactionOperations.html" title="interface in io.micronaut.transaction">TransactionOperations</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Type Parameters:</dt>
<dd><code>R</code> - The result</dd>
<dt>Parameters:</dt>
<dd><code>callback</code> - The call back</dd>
<dt>Returns:</dt>
<dd>The result</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="executeWrite(io.micronaut.transaction.TransactionCallback)">
<h3>executeWrite</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;R&gt;</span>&nbsp;<span class="return-type">R</span>&nbsp;<span class="element-name">executeWrite</span><wbr><span class="parameters">(@NonNull
 <a href="../TransactionCallback.html" title="interface in io.micronaut.transaction">TransactionCallback</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>,<wbr>R&gt;&nbsp;callback)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../TransactionOperations.html#executeWrite(io.micronaut.transaction.TransactionCallback)">TransactionOperations</a></code></span></div>
<div class="block">Execute a default transaction within the context of the function.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../TransactionOperations.html#executeWrite(io.micronaut.transaction.TransactionCallback)">executeWrite</a></code>&nbsp;in interface&nbsp;<code><a href="../TransactionOperations.html" title="interface in io.micronaut.transaction">TransactionOperations</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Type Parameters:</dt>
<dd><code>R</code> - The result</dd>
<dt>Parameters:</dt>
<dd><code>callback</code> - The call back</dd>
<dt>Returns:</dt>
<dd>The result</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTransaction(io.micronaut.transaction.TransactionDefinition)">
<h3>getTransaction</h3>
<div class="member-signature"><span class="annotations">@NonNull
</span><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="../TransactionStatus.html" title="interface in io.micronaut.transaction">TransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</span>&nbsp;<span class="element-name">getTransaction</span><wbr><span class="parameters">(@Nullable
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</span>
                                          throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../SynchronousTransactionManager.html#getTransaction(io.micronaut.transaction.TransactionDefinition)">SynchronousTransactionManager</a></code></span></div>
<div class="block">Return a currently active transaction or create a new one, according to
 the specified propagation behavior.
 <p>Note that parameters like isolation level or timeout will only be applied
 to new transactions, and thus be ignored when participating in active ones.
 <p>Furthermore, not all transaction definition settings will be supported
 by every transaction manager: A proper transaction manager implementation
 should throw an exception when unsupported settings are encountered.
 <p>An exception to the above rule is the read-only flag, which should be
 ignored if no explicit read-only mode is supported. Essentially, the
 read-only flag is just a hint for potential optimization.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../SynchronousTransactionManager.html#getTransaction(io.micronaut.transaction.TransactionDefinition)">getTransaction</a></code>&nbsp;in interface&nbsp;<code><a href="../SynchronousTransactionManager.html" title="interface in io.micronaut.transaction">SynchronousTransactionManager</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>definition</code> - the TransactionDefinition instance (can be <code>null</code> for defaults),
 describing propagation behavior, isolation level, timeout etc.</dd>
<dt>Returns:</dt>
<dd>transaction status object representing the new or current transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of lookup, creation, or system errors</dd>
<dd><code><a href="../exceptions/IllegalTransactionStateException.html" title="class in io.micronaut.transaction.exceptions">IllegalTransactionStateException</a></code> - if the given transaction definition
 cannot be executed (for example, if a currently active transaction is in
 conflict with the specified propagation behavior)</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../TransactionDefinition.html#getPropagationBehavior()"><code>TransactionDefinition.getPropagationBehavior()</code></a></li>
<li><a href="../TransactionDefinition.html#getIsolationLevel()"><code>TransactionDefinition.getIsolationLevel()</code></a></li>
<li><a href="../TransactionDefinition.html#getTimeout()"><code>TransactionDefinition.getTimeout()</code></a></li>
<li><a href="../TransactionDefinition.html#isReadOnly()"><code>TransactionDefinition.isReadOnly()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareTransactionStatus(io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)">
<h3>prepareTransactionStatus</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</span>&nbsp;<span class="element-name">prepareTransactionStatus</span><wbr><span class="parameters">(<a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 boolean&nbsp;newTransaction,
 boolean&nbsp;newSynchronization,
 boolean&nbsp;debug,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</span></div>
<div class="block">Create a new TransactionStatus for the given arguments,
 also initializing transaction synchronization as appropriate.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>definition</code> - The definition</dd>
<dd><code>transaction</code> - The transaction object</dd>
<dd><code>newTransaction</code> - Is this is a new transaction</dd>
<dd><code>newSynchronization</code> - Is this a new synchronization</dd>
<dd><code>debug</code> - Is debug enabled</dd>
<dd><code>suspendedResources</code> - Any suspended resources</dd>
<dt>Returns:</dt>
<dd>The status</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#newTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)"><code>newTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState, io.micronaut.transaction.TransactionDefinition, java.lang.Object, boolean, boolean, boolean, java.lang.Object)</code></a></li>
<li><a href="#prepareTransactionStatus(io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)"><code>prepareTransactionStatus(io.micronaut.transaction.TransactionDefinition, java.lang.Object, boolean, boolean, boolean, java.lang.Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="newTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)">
<h3>newTransactionStatus</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</span>&nbsp;<span class="element-name">newTransactionStatus</span><wbr><span class="parameters">(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 boolean&nbsp;newTransaction,
 boolean&nbsp;newSynchronization,
 boolean&nbsp;debug,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html#newTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)">AbstractSynchronousStateTransactionManager</a></code></span></div>
<div class="block">Create a TransactionStatus instance for the given arguments.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="AbstractSynchronousStateTransactionManager.html#newTransactionStatus(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)">newTransactionStatus</a></code>&nbsp;in class&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>definition</code> - The definition</dd>
<dd><code>transaction</code> - The transaction object</dd>
<dd><code>newTransaction</code> - Is this is a new transaction</dd>
<dd><code>newSynchronization</code> - Is this a new synchronization</dd>
<dd><code>debug</code> - Is debug enabled</dd>
<dd><code>suspendedResources</code> - Any suspended resources</dd>
<dt>Returns:</dt>
<dd>The status</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="newTransactionStatus(io.micronaut.transaction.TransactionDefinition,java.lang.Object,boolean,boolean,boolean,java.lang.Object)">
<h3>newTransactionStatus</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</span>&nbsp;<span class="element-name">newTransactionStatus</span><wbr><span class="parameters">(<a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 boolean&nbsp;newTransaction,
 boolean&nbsp;newSynchronization,
 boolean&nbsp;debug,
 @Nullable
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;suspendedResources)</span></div>
<div class="block">Create a TransactionStatus instance for the given arguments.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>definition</code> - The definition</dd>
<dd><code>transaction</code> - The transaction object</dd>
<dd><code>newTransaction</code> - Is this is a new transaction</dd>
<dd><code>newSynchronization</code> - Is this a new synchronization</dd>
<dd><code>debug</code> - Is debug enabled</dd>
<dd><code>suspendedResources</code> - Any suspended resources</dd>
<dt>Returns:</dt>
<dd>The status</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getConnection(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">
<h3>getConnection</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a></span>&nbsp;<span class="element-name">getConnection</span><wbr><span class="parameters">(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html#getConnection(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">AbstractSynchronousStateTransactionManager</a></code></span></div>
<div class="block">The connection for the given transaction object.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="AbstractSynchronousStateTransactionManager.html#getConnection(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">getConnection</a></code>&nbsp;in class&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>transaction</code> - The transaction</dd>
<dt>Returns:</dt>
<dd>The connection.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getConnection(java.lang.Object)">
<h3>getConnection</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a></span>&nbsp;<span class="element-name">getConnection</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span></div>
<div class="block">The connection for the given transaction object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transaction</code> - The transaction</dd>
<dt>Returns:</dt>
<dd>The connection.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareSynchronization(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus,io.micronaut.transaction.TransactionDefinition)">
<h3>prepareSynchronization</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">prepareSynchronization</span><wbr><span class="parameters">(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;&nbsp;status,
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html#prepareSynchronization(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus,io.micronaut.transaction.TransactionDefinition)">AbstractSynchronousStateTransactionManager</a></code></span></div>
<div class="block">Initialize transaction synchronization as appropriate.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="AbstractSynchronousStateTransactionManager.html#prepareSynchronization(io.micronaut.transaction.support.SynchronousTransactionState,io.micronaut.transaction.support.DefaultTransactionStatus,io.micronaut.transaction.TransactionDefinition)">prepareSynchronization</a></code>&nbsp;in class&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>status</code> - The status</dd>
<dd><code>definition</code> - The definition</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareSynchronization(io.micronaut.transaction.support.DefaultTransactionStatus,io.micronaut.transaction.TransactionDefinition)">
<h3>prepareSynchronization</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">prepareSynchronization</span><wbr><span class="parameters">(@NonNull
 <a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;&nbsp;status,
 @NonNull
 <a href="../TransactionDefinition.html" title="interface in io.micronaut.transaction">TransactionDefinition</a>&nbsp;definition)</span></div>
<div class="block">Initialize transaction synchronization as appropriate.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>status</code> - The status</dd>
<dd><code>definition</code> - The definition</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="suspend(java.lang.Object)">
<h3>suspend</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="AbstractSynchronousTransactionManager.SuspendedResourcesHolder.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager.SuspendedResourcesHolder</a></span>&nbsp;<span class="element-name">suspend</span><wbr><span class="parameters">(@Nullable
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span>
                                                                                throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Suspend the given transaction. Suspends transaction synchronization first,
 then delegates to the <code>doSuspend</code> template method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transaction</code> - the current transaction object
 (or <code>null</code> to just suspend active synchronizations, if any)</dd>
<dt>Returns:</dt>
<dd>an object that holds suspended resources
 (or <code>null</code> if neither transaction nor synchronization active)</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - Thrown if an error occurs suspending the transaction</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="AbstractSynchronousStateTransactionManager.html#doSuspend(java.lang.Object)"><code>AbstractSynchronousStateTransactionManager.doSuspend(java.lang.Object)</code></a></li>
<li><a href="#resume(java.lang.Object,io.micronaut.transaction.support.AbstractSynchronousTransactionManager.SuspendedResourcesHolder)"><code>resume(java.lang.Object, io.micronaut.transaction.support.AbstractSynchronousTransactionManager.SuspendedResourcesHolder)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resume(java.lang.Object,io.micronaut.transaction.support.AbstractSynchronousTransactionManager.SuspendedResourcesHolder)">
<h3>resume</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">resume</span><wbr><span class="parameters">(@Nullable
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 @Nullable
 <a href="AbstractSynchronousTransactionManager.SuspendedResourcesHolder.html" title="class in io.micronaut.transaction.support">AbstractSynchronousTransactionManager.SuspendedResourcesHolder</a>&nbsp;resourcesHolder)</span>
                     throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Resume the given transaction. Delegates to the <code>doResume</code>
 template method first, then resuming transaction synchronization.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transaction</code> - the current transaction object</dd>
<dd><code>resourcesHolder</code> - the object that holds suspended resources,
 as returned by <code>suspend</code> (or <code>null</code> to just
 resume synchronizations, if any)</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - Thrown if an error occurs resuming the transaction</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="AbstractSynchronousStateTransactionManager.html#doResume(java.lang.Object,java.lang.Object)"><code>AbstractSynchronousStateTransactionManager.doResume(java.lang.Object, java.lang.Object)</code></a></li>
<li><a href="#suspend(java.lang.Object)"><code>suspend(java.lang.Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="commit(io.micronaut.transaction.TransactionStatus)">
<h3>commit</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">commit</span><wbr><span class="parameters">(<a href="../TransactionStatus.html" title="interface in io.micronaut.transaction">TransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;&nbsp;status)</span>
                  throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">This implementation of commit handles participating in existing
 transactions and programmatic rollback requests.
 Delegates to <code>isRollbackOnly</code>, <code>doCommit</code>
 and <code>rollback</code>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../SynchronousTransactionManager.html#commit(io.micronaut.transaction.TransactionStatus)">commit</a></code>&nbsp;in interface&nbsp;<code><a href="../SynchronousTransactionManager.html" title="interface in io.micronaut.transaction">SynchronousTransactionManager</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>status</code> - object returned by the <code>getTransaction</code> method</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/UnexpectedRollbackException.html" title="class in io.micronaut.transaction.exceptions">UnexpectedRollbackException</a></code> - in case of an unexpected rollback
 that the transaction coordinator initiated</dd>
<dd><code><a href="../exceptions/HeuristicCompletionException.html" title="class in io.micronaut.transaction.exceptions">HeuristicCompletionException</a></code> - in case of a transaction failure
 caused by a heuristic decision on the side of the transaction coordinator</dd>
<dd><code><a href="../exceptions/TransactionSystemException.html" title="class in io.micronaut.transaction.exceptions">TransactionSystemException</a></code> - in case of commit or system errors
 (typically caused by fundamental resource failures)</dd>
<dd><code><a href="../exceptions/IllegalTransactionStateException.html" title="class in io.micronaut.transaction.exceptions">IllegalTransactionStateException</a></code> - if the given transaction
 is already completed (that is, committed or rolled back)</dd>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - if something goes wrong during commit</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../TransactionExecution.html#isRollbackOnly()"><code>TransactionExecution.isRollbackOnly()</code></a></li>
<li><a href="AbstractSynchronousStateTransactionManager.html#doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>AbstractSynchronousStateTransactionManager.doCommit(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a></li>
<li><a href="#rollback(io.micronaut.transaction.TransactionStatus)"><code>rollback(io.micronaut.transaction.TransactionStatus&lt;T&gt;)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rollback(io.micronaut.transaction.TransactionStatus)">
<h3>rollback</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">rollback</span><wbr><span class="parameters">(<a href="../TransactionStatus.html" title="interface in io.micronaut.transaction">TransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;&nbsp;status)</span>
                    throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">This implementation of rollback handles participating in existing
 transactions. Delegates to <code>doRollback</code> and
 <code>doSetRollbackOnly</code>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../SynchronousTransactionManager.html#rollback(io.micronaut.transaction.TransactionStatus)">rollback</a></code>&nbsp;in interface&nbsp;<code><a href="../SynchronousTransactionManager.html" title="interface in io.micronaut.transaction">SynchronousTransactionManager</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>status</code> - object returned by the <code>getTransaction</code> method</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionSystemException.html" title="class in io.micronaut.transaction.exceptions">TransactionSystemException</a></code> - in case of rollback or system errors
 (typically caused by fundamental resource failures)</dd>
<dd><code><a href="../exceptions/IllegalTransactionStateException.html" title="class in io.micronaut.transaction.exceptions">IllegalTransactionStateException</a></code> - if the given transaction
 is already completed (that is, committed or rolled back)</dd>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - if something goes wrong during rollback</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="AbstractSynchronousStateTransactionManager.html#doRollback(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>AbstractSynchronousStateTransactionManager.doRollback(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a></li>
<li><a href="AbstractSynchronousStateTransactionManager.html#doSetRollbackOnly(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>AbstractSynchronousStateTransactionManager.doSetRollbackOnly(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="triggerBeforeCommit(io.micronaut.transaction.support.DefaultTransactionStatus)">
<h3>triggerBeforeCommit</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">triggerBeforeCommit</span><wbr><span class="parameters">(<a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;&nbsp;status)</span></div>
<div class="block">Trigger <code>beforeCommit</code> callbacks.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>status</code> - object representing the transaction</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="triggerBeforeCompletion(io.micronaut.transaction.support.DefaultTransactionStatus)">
<h3>triggerBeforeCompletion</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">triggerBeforeCompletion</span><wbr><span class="parameters">(<a href="DefaultTransactionStatus.html" title="class in io.micronaut.transaction.support">DefaultTransactionStatus</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;&nbsp;status)</span></div>
<div class="block">Trigger <code>beforeCompletion</code> callbacks.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>status</code> - object representing the transaction</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)">
<h3>doGetTransaction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">doGetTransaction</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state)</span>
                           throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html#doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)">AbstractSynchronousStateTransactionManager</a></code></span></div>
<div class="block">Return a transaction object for the current transaction state.
 <p>The returned object will usually be specific to the concrete transaction
 manager implementation, carrying corresponding transaction state in a
 modifiable fashion. This object will be passed into the other template
 methods (e.g. doBegin and doCommit), either directly or as part of a
 DefaultTransactionStatus instance.
 <p>The returned object should contain information about any existing
 transaction, that is, a transaction that has already started before the
 current <code>getTransaction</code> call on the transaction manager.
 Consequently, a <code>doGetTransaction</code> implementation will usually
 look for an existing transaction and store corresponding state in the
 returned transaction object.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="AbstractSynchronousStateTransactionManager.html#doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)">doGetTransaction</a></code>&nbsp;in class&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dt>Returns:</dt>
<dd>the current transaction object</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/CannotCreateTransactionException.html" title="class in io.micronaut.transaction.exceptions">CannotCreateTransactionException</a></code> - if transaction support is not available</dd>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of lookup or system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="AbstractSynchronousStateTransactionManager.html#doBegin(java.lang.Object,io.micronaut.transaction.TransactionDefinition)"><code>AbstractSynchronousStateTransactionManager.doBegin(java.lang.Object, io.micronaut.transaction.TransactionDefinition)</code></a></li>
<li><a href="AbstractSynchronousStateTransactionManager.html#doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>AbstractSynchronousStateTransactionManager.doCommit(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a></li>
<li><a href="AbstractSynchronousStateTransactionManager.html#doRollback(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>AbstractSynchronousStateTransactionManager.doRollback(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a></li>
<li><a href="DefaultTransactionStatus.html#getTransaction()"><code>DefaultTransactionStatus.getTransaction()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">
<h3>isExistingTransaction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isExistingTransaction</span><wbr><span class="parameters">(@NonNull
 <a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 @NonNull
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span>
                                 throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html#isExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">AbstractSynchronousStateTransactionManager</a></code></span></div>
<div class="block">Check if the given transaction object indicates an existing transaction
 (that is, a transaction which has already started).
 <p>The result will be evaluated according to the specified propagation
 behavior for the new transaction. An existing transaction might get
 suspended (in case of PROPAGATION_REQUIRES_NEW), or the new transaction
 might participate in the existing one (in case of PROPAGATION_REQUIRED).
 <p>The default implementation returns <code>false</code>, assuming that
 participating in existing transactions is generally not supported.
 Subclasses are of course encouraged to provide such support.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="AbstractSynchronousStateTransactionManager.html#isExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">isExistingTransaction</a></code>&nbsp;in class&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>transaction</code> - transaction object returned by doGetTransaction</dd>
<dt>Returns:</dt>
<dd>if there is an existing transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="AbstractSynchronousStateTransactionManager.html#doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)"><code>AbstractSynchronousStateTransactionManager.doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="invokeAfterCompletion(java.util.List,io.micronaut.transaction.support.TransactionSynchronization.Status)">
<h3>invokeAfterCompletion</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">invokeAfterCompletion</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TransactionSynchronization.html" title="interface in io.micronaut.transaction.support">TransactionSynchronization</a>&gt;&nbsp;synchronizations,
 <a href="TransactionSynchronization.Status.html" title="enum class in io.micronaut.transaction.support">TransactionSynchronization.Status</a>&nbsp;completionStatus)</span></div>
<div class="block">Actually invoke the <code>afterCompletion</code> methods of the
 given Spring TransactionSynchronization objects.
 <p>To be called by this abstract manager itself, or by special implementations
 of the <code>registerAfterCompletionWithExistingTransaction</code> callback.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>synchronizations</code> - a List of TransactionSynchronization objects</dd>
<dd><code>completionStatus</code> - the completion status according to the
                         constants in the TransactionSynchronization interface</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#registerAfterCompletionWithExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,java.util.List)"><code>registerAfterCompletionWithExistingTransaction(SynchronousTransactionState, Object, List)</code></a></li>
<li><a href="TransactionSynchronization.Status.html#COMMITTED"><code>TransactionSynchronization.Status.COMMITTED</code></a></li>
<li><a href="TransactionSynchronization.Status.html#ROLLED_BACK"><code>TransactionSynchronization.Status.ROLLED_BACK</code></a></li>
<li><a href="TransactionSynchronization.Status.html#UNKNOWN"><code>TransactionSynchronization.Status.UNKNOWN</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doGetTransaction()">
<h3>doGetTransaction</h3>
<div class="member-signature"><span class="annotations">@NonNull
</span><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">doGetTransaction</span>()
                                    throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Return a transaction object for the current transaction state.
 <p>The returned object will usually be specific to the concrete transaction
 manager implementation, carrying corresponding transaction state in a
 modifiable fashion. This object will be passed into the other template
 methods (e.g. doBegin and doCommit), either directly or as part of a
 DefaultTransactionStatus instance.
 <p>The returned object should contain information about any existing
 transaction, that is, a transaction that has already started before the
 current <code>getTransaction</code> call on the transaction manager.
 Consequently, a <code>doGetTransaction</code> implementation will usually
 look for an existing transaction and store corresponding state in the
 returned transaction object.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current transaction object</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/CannotCreateTransactionException.html" title="class in io.micronaut.transaction.exceptions">CannotCreateTransactionException</a></code> - if transaction support is not available</dd>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of lookup or system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="AbstractSynchronousStateTransactionManager.html#doBegin(java.lang.Object,io.micronaut.transaction.TransactionDefinition)"><code>AbstractSynchronousStateTransactionManager.doBegin(java.lang.Object, io.micronaut.transaction.TransactionDefinition)</code></a></li>
<li><a href="AbstractSynchronousStateTransactionManager.html#doCommit(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>AbstractSynchronousStateTransactionManager.doCommit(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a></li>
<li><a href="AbstractSynchronousStateTransactionManager.html#doRollback(io.micronaut.transaction.support.DefaultTransactionStatus)"><code>AbstractSynchronousStateTransactionManager.doRollback(io.micronaut.transaction.support.DefaultTransactionStatus&lt;T&gt;)</code></a></li>
<li><a href="DefaultTransactionStatus.html#getTransaction()"><code>DefaultTransactionStatus.getTransaction()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isExistingTransaction(java.lang.Object)">
<h3>isExistingTransaction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isExistingTransaction</span><wbr><span class="parameters">(@NonNull
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span>
                                 throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Check if the given transaction object indicates an existing transaction
 (that is, a transaction which has already started).
 <p>The result will be evaluated according to the specified propagation
 behavior for the new transaction. An existing transaction might get
 suspended (in case of PROPAGATION_REQUIRES_NEW), or the new transaction
 might participate in the existing one (in case of PROPAGATION_REQUIRED).
 <p>The default implementation returns <code>false</code>, assuming that
 participating in existing transactions is generally not supported.
 Subclasses are of course encouraged to provide such support.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transaction</code> - transaction object returned by doGetTransaction</dd>
<dt>Returns:</dt>
<dd>if there is an existing transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)"><code>doGetTransaction(io.micronaut.transaction.support.SynchronousTransactionState)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerAfterCompletionWithExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,java.util.List)">
<h3>registerAfterCompletionWithExistingTransaction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">registerAfterCompletionWithExistingTransaction</span><wbr><span class="parameters">(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TransactionSynchronization.html" title="interface in io.micronaut.transaction.support">TransactionSynchronization</a>&gt;&nbsp;synchronizations)</span>
                                                       throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html#registerAfterCompletionWithExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,java.util.List)">AbstractSynchronousStateTransactionManager</a></code></span></div>
<div class="block">Register the given list of transaction synchronizations with the existing transaction.
 <p>Invoked when the control of the transaction manager and thus all transaction synchronizations end,
 without the transaction being completed yet. This is for example the case when participating in an existing JTA or EJB CMT transaction.
 <p>The default implementation simply invokes the <code>afterCompletion</code> methods
 immediately, passing in "STATUS_UNKNOWN". This is the best we can do if there's no
 chance to determine the actual outcome of the outer transaction.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="AbstractSynchronousStateTransactionManager.html#registerAfterCompletionWithExistingTransaction(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object,java.util.List)">registerAfterCompletionWithExistingTransaction</a></code>&nbsp;in class&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>state</code> - The transaction state</dd>
<dd><code>transaction</code> - transaction object returned by <code>doGetTransaction</code></dd>
<dd><code>synchronizations</code> - a List of TransactionSynchronization objects</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="AbstractSynchronousStateTransactionManager.html#invokeAfterCompletion(io.micronaut.transaction.support.SynchronousTransactionState,java.util.List,io.micronaut.transaction.support.TransactionSynchronization.Status)"><code>AbstractSynchronousStateTransactionManager.invokeAfterCompletion(SynchronousTransactionState, List, TransactionSynchronization.Status)</code></a></li>
<li><a href="TransactionSynchronization.html#afterCompletion(io.micronaut.transaction.support.TransactionSynchronization.Status)"><code>TransactionSynchronization.afterCompletion(TransactionSynchronization.Status)</code></a></li>
<li><a href="TransactionSynchronization.Status.html#UNKNOWN"><code>TransactionSynchronization.Status.UNKNOWN</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerAfterCompletionWithExistingTransaction(java.lang.Object,java.util.List)">
<h3>registerAfterCompletionWithExistingTransaction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">registerAfterCompletionWithExistingTransaction</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TransactionSynchronization.html" title="interface in io.micronaut.transaction.support">TransactionSynchronization</a>&gt;&nbsp;synchronizations)</span>
                                                       throws <span class="exceptions"><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></span></div>
<div class="block">Register the given list of transaction synchronizations with the existing transaction.
 <p>Invoked when the control of the Spring transaction manager and thus all Spring
 transaction synchronizations end, without the transaction being completed yet. This
 is for example the case when participating in an existing JTA or EJB CMT transaction.
 <p>The default implementation simply invokes the <code>afterCompletion</code> methods
 immediately, passing in "STATUS_UNKNOWN". This is the best we can do if there's no
 chance to determine the actual outcome of the outer transaction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transaction</code> - transaction object returned by <code>doGetTransaction</code></dd>
<dd><code>synchronizations</code> - a List of TransactionSynchronization objects</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/TransactionException.html" title="class in io.micronaut.transaction.exceptions">TransactionException</a></code> - in case of system errors</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#invokeAfterCompletion(java.util.List,io.micronaut.transaction.support.TransactionSynchronization.Status)"><code>invokeAfterCompletion(List, TransactionSynchronization.Status)</code></a></li>
<li><a href="TransactionSynchronization.html#afterCompletion(io.micronaut.transaction.support.TransactionSynchronization.Status)"><code>TransactionSynchronization.afterCompletion(TransactionSynchronization.Status)</code></a></li>
<li><a href="TransactionSynchronization.Status.html#UNKNOWN"><code>TransactionSynchronization.Status.UNKNOWN</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doCleanupAfterCompletion(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">
<h3>doCleanupAfterCompletion</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doCleanupAfterCompletion</span><wbr><span class="parameters">(<a href="SynchronousTransactionState.html" title="interface in io.micronaut.transaction.support">SynchronousTransactionState</a>&nbsp;state,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html#doCleanupAfterCompletion(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">AbstractSynchronousStateTransactionManager</a></code></span></div>
<div class="block">Cleanup resources after transaction completion.
 <p>Called after <code>doCommit</code> and <code>doRollback</code> execution,
 on any outcome. The default implementation does nothing.
 <p>Should not throw any exceptions but just issue warnings on errors.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="AbstractSynchronousStateTransactionManager.html#doCleanupAfterCompletion(io.micronaut.transaction.support.SynchronousTransactionState,java.lang.Object)">doCleanupAfterCompletion</a></code>&nbsp;in class&nbsp;<code><a href="AbstractSynchronousStateTransactionManager.html" title="class in io.micronaut.transaction.support">AbstractSynchronousStateTransactionManager</a>&lt;<a href="AbstractSynchronousTransactionManager.html" title="type parameter in AbstractSynchronousTransactionManager">T</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>state</code> - The state</dd>
<dd><code>transaction</code> - transaction object returned by <code>doGetTransaction</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doCleanupAfterCompletion(java.lang.Object)">
<h3>doCleanupAfterCompletion</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doCleanupAfterCompletion</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transaction)</span></div>
<div class="block">Cleanup resources after transaction completion.
 <p>Called after <code>doCommit</code> and <code>doRollback</code> execution,
 on any outcome. The default implementation does nothing.
 <p>Should not throw any exceptions but just issue warnings on errors.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transaction</code> - transaction object returned by <code>doGetTransaction</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
